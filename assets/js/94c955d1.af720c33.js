"use strict";(self.webpackChunkFranzininho=self.webpackChunkFranzininho||[]).push([[7347],{3905:(e,a,t)=>{t.d(a,{Zo:()=>p,kt:()=>f});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=n.createContext({}),d=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},p=function(e){var a=d(e.components);return n.createElement(l.Provider,{value:a},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},u=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=d(t),u=r,f=c["".concat(l,".").concat(u)]||c[u]||m[u]||i;return t?n.createElement(f,o(o({ref:a},p),{},{components:t})):n.createElement(f,o({ref:a},p))}));function f(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=u;var s={};for(var l in a)hasOwnProperty.call(a,l)&&(s[l]=a[l]);s.originalType=e,s[c]="string"==typeof e?e:r,o[1]=s;for(var d=2;d<i;d++)o[d]=t[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},2134:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var n=t(3117),r=(t(7294),t(3905));const i={id:"franzininhoc0-arduino-identificacao-pinos",title:"Identifica\xe7\xe3o dos Pinos no Ambiente Arduino",slug:"/franzininho-c0/arduino-identificacao-pinos",description:"Identifica\xe7\xe3o dos Pinos da Franzininho C0 no Ambiente Arduino"},o=void 0,s={unversionedId:"franzininhoSTM32C0/exemplos-arduino/franzininhoc0-arduino-identificacao-pinos",id:"franzininhoSTM32C0/exemplos-arduino/franzininhoc0-arduino-identificacao-pinos",title:"Identifica\xe7\xe3o dos Pinos no Ambiente Arduino",description:"Identifica\xe7\xe3o dos Pinos da Franzininho C0 no Ambiente Arduino",source:"@site/docs/franzininhoSTM32C0/exemplos-arduino/identificacao-pinos.md",sourceDirName:"franzininhoSTM32C0/exemplos-arduino",slug:"/franzininho-c0/arduino-identificacao-pinos",permalink:"/docs/franzininho-c0/arduino-identificacao-pinos",draft:!1,editUrl:"https://github.com/Franzininho/docs-franzininho-site/edit/main/docs/franzininhoSTM32C0/exemplos-arduino/identificacao-pinos.md",tags:[],version:"current",frontMatter:{id:"franzininhoc0-arduino-identificacao-pinos",title:"Identifica\xe7\xe3o dos Pinos no Ambiente Arduino",slug:"/franzininho-c0/arduino-identificacao-pinos",description:"Identifica\xe7\xe3o dos Pinos da Franzininho C0 no Ambiente Arduino"},sidebar:"docs",previous:{title:"Primeiros passos com Arduino",permalink:"/docs/franzininho-c0/arduino-primeiros-passos"},next:{title:"Placa Franzininho DIY",permalink:"/docs/franzininho-diy/sobre"}},l={},d=[{value:"Entrada e Sa\xedda Digital",id:"entrada-e-sa\xedda-digital",level:2},{value:"Entrada Anal\xf3gica (ADC)",id:"entrada-anal\xf3gica-adc",level:2},{value:"Interface Serial Ass\xedncrona (UART)",id:"interface-serial-ass\xedncrona-uart",level:2},{value:"SPI",id:"spi",level:2},{value:"I^2^C",id:"i2c",level:2},{value:"Op\xe7\xf5es V\xe1lidas para os Pinos",id:"op\xe7\xf5es-v\xe1lidas-para-os-pinos",level:2}],p={toc:d},c="wrapper";function m(e){let{components:a,...i}=e;return(0,r.kt)(c,(0,n.Z)({},p,i,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Na documenta\xe7\xe3o da ST, os pinos dos microcontroladores STM32 s\xe3o identificados por nomes como PA1, PA2 e PB6 (como pode ser visto no esquema da Franzininho C0). Descrevemos aqui as identifica\xe7\xf5es usadas no Ambiente Arduino."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},'Estas informa\xe7\xf5es se referem \xe0 op\xe7\xe3o de placa "Generic STM32C0" do pacote STM32duino. Futuramente esperamos ter uma op\xe7\xe3o de placa espec\xedfica para a Franzininho C0, usando op\xe7\xf5es default mais adequadas para os pinos.')),(0,r.kt)("p",null,"A figura abaixo resume as identifica\xe7\xf5es:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Identifica\xe7\xe3o dos Pinos no Ambiente Arduino",src:t(1572).Z,width:"1500",height:"1116"})),(0,r.kt)("p",null,'O pacote STM32duino aceita as identifica\xe7\xf5es do tipo PA1 como "nomes" dos pinos, por\xe9m esta n\xe3o \xe9 a identifica\xe7\xe3o usual do ambiente Arduino.'),(0,r.kt)("h2",{id:"entrada-e-sa\xedda-digital"},"Entrada e Sa\xedda Digital"),(0,r.kt)("p",null,"Para entrada e sa\xedda digital, o ambiente Arduino utiliza n\xfameros para identificar os pinos. A figura no in\xedcio da p\xe1gina mostra os n\xfameros correspondentes aos pinos da Franzininho."),(0,r.kt)("p",null,"As fun\xe7\xf5es digitais aceitam tamb\xe9m os nomes usados para entrada anal\xf3gica (ver o pr\xf3ximo item)."),(0,r.kt)("h2",{id:"entrada-anal\xf3gica-adc"},"Entrada Anal\xf3gica (ADC)"),(0,r.kt)("p",null,"Para entrada anal\xf3gica, o ambiente Arduino utiliza nomes do tipo An. A figura no in\xedcio da p\xe1gina mostra os nomes correspondentes aos pinos da Franzininho."),(0,r.kt)("h2",{id:"interface-serial-ass\xedncrona-uart"},"Interface Serial Ass\xedncrona (UART)"),(0,r.kt)("p",null,"O microcontrolador na Franzininho C0 possui duas interfaces seriais ass\xedncronas (uart1 e uart2). Ele possui uma certa flexibilidade na conex\xe3o destas interfaces aos pinos."),(0,r.kt)("p",null,"No ambiente Arduino, as interfaces seriais ass\xedncronas s\xe3o acessadas atrav\xe9s de objetos com nomes como Serial, Serial1 e Serial2."),(0,r.kt)("p",null,"Na Franzininho C0, os pinos PA9 e PA10 est\xe3o conectados ao conversor serial USB CH340, para fornecer comunica\xe7\xe3o serial com um micro atrav\xe9s de um cabo USB."),(0,r.kt)("p",null,'A op\xe7\xe3o "Generic STM32C0" define um objeto Serial associado \xe0 interface uart1, usando os pinos PA0 e PA1 (como indicado na figura no alto da p\xe1gina). Para usar o objeto Serial para comunicar via USB \xe9 preciso reconfigurar os pinos atrav\xe9s dos m\xe9todos setRx e setTx ',(0,r.kt)("strong",{parentName:"p"},"antes"),' de chamar o m\xe9todo begin (veja tamb\xe9m o exemplo "Hello World"):'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"  Serial.setRx(PA_10_R);\n  Serial.setTx(PA_9_R);\n  Serial.begin(115200);\n")),(0,r.kt)("p",null,"Obs.: Os nomes especiais para os pinos PA9 e PA10 se devem ao fato destes pinos compartilharem os mesmos pinos f\xedsicos que PA11 e PA12."),(0,r.kt)("p",null,"Para usar a uart2 \xe9 preciso declarar um objeto Serial2 e especificar os pinos que ser\xe3o usados:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"HardwareSerial Serial2(uart2);\n\n  Serial2.setRx(PA3);\n  Serial2.setTx(PA2);\n  Serial2.begin(115200);\n")),(0,r.kt)("h2",{id:"spi"},"SPI"),(0,r.kt)("p",null,"A figura no alto da p\xe1gina indica os pinos utilizados por padr\xe3o para a interface spi, acessada atrav\xe9s do objeto SPI que \xe9 parte da bioblioteca padr\xe3o SPI."),(0,r.kt)("p",null,"Veja detalhes no exemplo SPI."),(0,r.kt)("h2",{id:"i2c"},"I^2^C"),(0,r.kt)("p",null,"No ambiente Arduino, a interface i^2^c \xe9 acessada atrav\xe9s do objeto Wire, que \xe9 parte da bioblioteca padr\xe3o SPI."),(0,r.kt)("p",null,'A op\xe7\xe3o "Generic STM32C0" usa como padr\xe3o os pinos PA9 e PA10 para a interface i2c. Como estes pinos est\xe3o ligados na Franzininho C0 aos conversor serial USB, \xe9 preciso reconfigurar os pinos atrav\xe9s dos m\xe9todos setSCL e setSDA ',(0,r.kt)("strong",{parentName:"p"},"antes"),' de chamar o m\xe9todo begin (veja o exemplo "I2C").'),(0,r.kt)("h2",{id:"op\xe7\xf5es-v\xe1lidas-para-os-pinos"},"Op\xe7\xf5es V\xe1lidas para os Pinos"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"UART1"),"  "),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Sinal"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Op\xe7\xf5es"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"TX"),(0,r.kt)("td",{parentName:"tr",align:"left"},"PA0, PA9, PB6, PC14")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"RX"),(0,r.kt)("td",{parentName:"tr",align:"left"},"PA1, PA8, PA10, PB7")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"UART2")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Sinal"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Op\xe7\xf5es"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"TX"),(0,r.kt)("td",{parentName:"tr",align:"left"},"PA2, PA4, PA8, PA14")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"RX"),(0,r.kt)("td",{parentName:"tr",align:"left"},"PA3, PA5, PA13, PA14")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"SPI")," "),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Sinal"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Op\xe7\xf5es"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"MISO"),(0,r.kt)("td",{parentName:"tr",align:"left"},"PA6, PA1, PB6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"MOSI"),(0,r.kt)("td",{parentName:"tr",align:"left"},"PA2, PA7, PA12, PB6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"SCK"),(0,r.kt)("td",{parentName:"tr",align:"left"},"PA1, PA5, PB6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"SS"),(0,r.kt)("td",{parentName:"tr",align:"left"},"PA4, PA8, PA14")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"I2C")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Sinal"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Op\xe7\xf5es"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"SCL"),(0,r.kt)("td",{parentName:"tr",align:"left"},"PA9, PB6, PB7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"SDA"),(0,r.kt)("td",{parentName:"tr",align:"left"},"PC14, PA10, PB7")))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Autor"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Daniel Quadros"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Data:"),(0,r.kt)("td",{parentName:"tr",align:"left"},"19/10/2023")))))}m.isMDXComponent=!0},1572:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/FranzC0_Arduino-89bf26df3ced3b5ae9d0bb802bebeebb.png"}}]);
"use strict";(self.webpackChunkFranzininho=self.webpackChunkFranzininho||[]).push([[9429],{3905:(e,a,t)=>{t.d(a,{Zo:()=>m,kt:()=>g});var n=t(7294);function o(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){o(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,o=function(e,a){if(null==e)return{};var t,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(o[t]=e[t]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=n.createContext({}),u=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},m=function(e){var a=u(e.components);return n.createElement(s.Provider,{value:a},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},c=n.forwardRef((function(e,a){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),p=u(t),c=o,g=p["".concat(s,".").concat(c)]||p[c]||d[c]||r;return t?n.createElement(g,i(i({ref:a},m),{},{components:t})):n.createElement(g,i({ref:a},m))}));function g(e,a){var t=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=c;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l[p]="string"==typeof e?e:o,i[1]=l;for(var u=2;u<r;u++)i[u]=t[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}c.displayName="MDXCreateElement"},9742:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var n=t(3117),o=(t(7294),t(3905));const r={id:"circuitpython-sistema-de-irriga\xe7\xe3o",title:"Sistema de irriga\xe7\xe3o autom\xe1tico",slug:"/franzininho-wifi/exemplos-circuitpython/irrigacao",description:"Um sistema de irriga\xe7\xe3o autom\xe1tico \xe9 uma solu\xe7\xe3o para ajudar a manter de forma sistem\xe1tica a irriga\xe7\xe3o de suas plantas.",author:"Giuliane Eul\xe1lia Corr\xeaa"},i=void 0,l={unversionedId:"FranzininhoWifi/exemplos-circuitpython/circuitpython-sistema-de-irriga\xe7\xe3o",id:"FranzininhoWifi/exemplos-circuitpython/circuitpython-sistema-de-irriga\xe7\xe3o",title:"Sistema de irriga\xe7\xe3o autom\xe1tico",description:"Um sistema de irriga\xe7\xe3o autom\xe1tico \xe9 uma solu\xe7\xe3o para ajudar a manter de forma sistem\xe1tica a irriga\xe7\xe3o de suas plantas.",source:"@site/docs/FranzininhoWifi/exemplos-circuitpython/irrigacao.md",sourceDirName:"FranzininhoWifi/exemplos-circuitpython",slug:"/franzininho-wifi/exemplos-circuitpython/irrigacao",permalink:"/docs/franzininho-wifi/exemplos-circuitpython/irrigacao",draft:!1,editUrl:"https://github.com/Franzininho/docs-franzininho-site/edit/main/docs/FranzininhoWifi/exemplos-circuitpython/irrigacao.md",tags:[],version:"current",frontMatter:{id:"circuitpython-sistema-de-irriga\xe7\xe3o",title:"Sistema de irriga\xe7\xe3o autom\xe1tico",slug:"/franzininho-wifi/exemplos-circuitpython/irrigacao",description:"Um sistema de irriga\xe7\xe3o autom\xe1tico \xe9 uma solu\xe7\xe3o para ajudar a manter de forma sistem\xe1tica a irriga\xe7\xe3o de suas plantas.",author:"Giuliane Eul\xe1lia Corr\xeaa"},sidebar:"docs",previous:{title:"Servo motor",permalink:"/docs/franzininho-wifi/exemplos-circuitpython/servo-motor"},next:{title:"Primeiros Passos",permalink:"/docs/franzininho-wifi/exemplos-arduino/primeiros-passos"}},s={},u=[{value:"<strong>Materiais Usados</strong>",id:"materiais-usados",level:2},{value:"<strong>Circuito Eletr\xf4nico</strong>",id:"circuito-eletr\xf4nico",level:2},{value:"<strong>C\xf3digo-fonte</strong>",id:"c\xf3digo-fonte",level:2},{value:"<strong>Entendendo o C\xf3digo-fonte</strong>",id:"entendendo-o-c\xf3digo-fonte",level:2},{value:"<strong>Conclus\xe3o</strong>",id:"conclus\xe3o",level:2}],m={toc:u},p="wrapper";function d(e){let{components:a,...r}=e;return(0,o.kt)(p,(0,n.Z)({},m,r,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Um sistema de irriga\xe7\xe3o autom\xe1tico \xe9 uma solu\xe7\xe3o para ajudar a manter de forma sistem\xe1tica a irriga\xe7\xe3o\nde suas plantas. "),(0,o.kt)("p",null,"Esse sistema permite programar as regras de acordo com as necessidades das plantas. Isso garante uma economia\nde \xe1gua e tempo, para quem possui um jardim ou horta e para grandes sistemas de irriga\xe7\xe3o\nna agricultura."),(0,o.kt)("p",null,"Agora vamos descrever um exemplo de um sistema de irriga\xe7\xe3o automatico poss\xedvel de construir de forma simples mas com grande\npoder de automa\xe7\xe3o."),(0,o.kt)("h2",{id:"materiais-usados"},(0,o.kt)("strong",{parentName:"h2"},"Materiais Usados")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"1 Placa Franzininho WiFi"),(0,o.kt)("li",{parentName:"ul"},"1 Sensor de umidade do solo - Higr\xf4metro com saida digital e analogica"),(0,o.kt)("li",{parentName:"ul"},"1 Protoboard de 830 pontos"),(0,o.kt)("li",{parentName:"ul"},"1 Mini bomba de \xe1gua submersa 5v"),(0,o.kt)("li",{parentName:"ul"},"1 Rel\xe9 5v"),(0,o.kt)("li",{parentName:"ul"},"Cabos Jumpers - Macho/Macho e Macho/Femea")),(0,o.kt)("h2",{id:"circuito-eletr\xf4nico"},(0,o.kt)("strong",{parentName:"h2"},"Circuito Eletr\xf4nico")),(0,o.kt)("p",null,"Para o exemplo que vamos ver a seguir, realize a seguinte montagem:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Circuito Servo Motor",src:t(3566).Z,width:"1779",height:"2385"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Observa\xe7\xf5es:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"O rel\xe9 \xe9 conectado a 5V da placa"),(0,o.kt)("li",{parentName:"ul"},"Cabos azuis: sa\xeddas digitais"),(0,o.kt)("li",{parentName:"ul"},"Cabos vermelhos: VCC"),(0,o.kt)("li",{parentName:"ul"},"Cabos pretos: GND")),(0,o.kt)("h2",{id:"c\xf3digo-fonte"},(0,o.kt)("strong",{parentName:"h2"},"C\xf3digo-fonte")),(0,o.kt)("p",null,"Para iniciar, \xe9 necess\xe1rio j\xe1 ter seguido o tutorial de ",(0,o.kt)("strong",{parentName:"p"},"Primeiros passos"),", que tamb\xe9m se encontra na p\xe1gina da Franzininho em documenta\xe7\xe3o,\nter o CircuitPython instalado na placa e para esse projeto utilizamos o Mu editor. Para obter esse ambiente basta seguir os passos em ",(0,o.kt)("strong",{parentName:"p"},"Instalando as ferramentas"),"."),(0,o.kt)("p",null,"A partir daqui consideramos que os primeiros passos de instala\xe7\xe3o e do ambiente foram conclu\xeddos.\nAbaixo est\xe1 o c\xf3digo do sistema na placa usando CircuitPython, voc\xea pode copiar e colar o c\xf3digo fonte na sua IDE."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'import board\nimport time\n\nfrom digitalio import DigitalInOut, Direction, Pull\nfrom analogio import AnalogIn  \n\nrelay = DigitalInOut(board.IO0)\nrelay.switch_to_output()\n\nhumid_analog = AnalogIn(board.IO1)       \nhumid_digital = DigitalInOut(board.IO4)   \nhumid_digital.direction = Direction.INPUT \n\nrelay.value = True\n\nwait_time = 1\nwatering_time = 1\n\ndry_value = 51130\n\nwhile True:\n    try:\n        print("humid (Digital value):", humid_digital.value)\n        print("humid (Analogic value):", humid_analog.value)\n\n        time.sleep(1);\n\n        if humid_analog.value > dry_value :\n            print("Starting watering...")\n\n            relay.value = False\n\n            time.sleep(watering_time)\n            print("Finishing watering.")\n\n        else:\n            relay.value = True\n            time.sleep(wait_time)\n\n    except RuntimeError as e:\n        print("Read failure")\n\n    time.sleep(1)\n')),(0,o.kt)("p",null,"Ap\xf3s terminar de escrever, e analisar no ambiente de desenvolvimento. Basta salvar e apertar no serial para executar no mu-editor. Caso esteja utilizando outra IDE, basta execut\xe1-la no ambiente escolhido."),(0,o.kt)("h2",{id:"entendendo-o-c\xf3digo-fonte"},(0,o.kt)("strong",{parentName:"h2"},"Entendendo o C\xf3digo-fonte")),(0,o.kt)("p",null,"O primeiro m\xf3dulo que vamos importar, \xe9 o board. Ele possibilita o acesso aos pinos da placa:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"import board\n")),(0,o.kt)("p",null,"Este m\xf3dulo fornece v\xe1rias fun\xe7\xf5es relacionadas ao tempo:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"import time\n")),(0,o.kt)("p",null,"O digitalio \xe9 um m\xf3dulo que cont\xe9m classes para fornecer acesso a IO digital b\xe1sico:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"from digitalio import DigitalInOut, Direction, Pull\n")),(0,o.kt)("p",null,"Cria um objeto e conecta o objeto com uma entrada anal\xf3gica:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"from analogio import AnalogIn \n")),(0,o.kt)("p",null,"Agora, vamos atribuir o rel\xe9:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"relay = DigitalInOut(board.IO0)\nrelay.switch_to_output()\n")),(0,o.kt)("p",null,"Atribuimos as entradas anal\xf3gicas e digitais do sensor de umidade do solo na porta 1, sendo esta uma porta anal\xf3gica e na porta 4 a digital do franzinho. Configurando tamb\xe9m o pino como entrada digital:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"humid_analog = AnalogIn(board.IO1)        # analog\nhumid_digital = DigitalInOut(board.IO4)   # digital\nhumid_digital.direction = Direction.INPUT\n")),(0,o.kt)("p",null,'O rel\xe9 foi configurado para usar a porta "sempre fechada",ent\xe3o precisamos defini-lo com o valor verdadeiro para que o rel\xe9 fique inativo:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"relay.value = True\n")),(0,o.kt)("p",null,"Per\xedodo de tempo para verificar o sistema. O controle desse per\xedodo de tempo para manter a rega da planta depende da voltagem que alimenta a bomba:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"wait_time = 1\nwatering_time = 1\n")),(0,o.kt)("p",null,"Adaptado de acordo com o sensor de umidade do solo, \xe9 necessario fazer laguns testes na sua terra para saber o valor da terra que vai ser utilizada:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"dry_value = 51130\n")),(0,o.kt)("p",null,"Por fim, dentro do ",(0,o.kt)("strong",{parentName:"p"},"while True"),", o nosso loop, faremos com que os sensores leiam continuamente e imprima os valores lidos do sensor de umidade do solo:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'while True:\n    try:\n\n        print("humid (Digital value):", humid_digital.value)\n        print("humid (Analogic value):", humid_analog.value)\n\n        time.sleep(1);\n')),(0,o.kt)("p",null,'J\xe1 na condi\xe7\xe3o abaixo, caso o sensor receba um valor que indique que a terra est\xe1 seca, entramos no condicional if e conectamos o rel\xe9 no "sempre fechado",\ne \xe9 por isso que adicionar um Falso a "sempre fechado", signinifica aberto. Ent\xe3o a bomba \xe9 acionada realizando a irriga\xe7\xe3o:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'if humid_analog.value > dry_value :\n            print("Starting watering...")\n\n            relay.value = False\n\n            time.sleep(watering_time)\n            print("Finishing watering.")\n\n')),(0,o.kt)("p",null,"Se o n\xedvel estiver OK, apenas nos certificamos de que o rel\xe9 esteja fechado:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"        else:\n            relay.value = True\n            time.sleep(wait_time)\n\n")),(0,o.kt)("p",null,"E colocamos o sensor para dormir novamente:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"    time.sleep(1)\n")),(0,o.kt)("p",null,"Tamb\xe9m \xe9 possivel encontrar o codigo em ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/GiulianeEC/SystemOfIrrigation_Franzininho"},"https://github.com/GiulianeEC/SystemOfIrrigation_Franzininho")),(0,o.kt)("h2",{id:"conclus\xe3o"},(0,o.kt)("strong",{parentName:"h2"},"Conclus\xe3o")),(0,o.kt)("p",null,"No decorrer da explica\xe7\xe3o, aprendemos a como montar de maneira simples um prot\xf3tipo de irriga\xe7\xe3o automatizado."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Autor"),(0,o.kt)("th",{parentName:"tr",align:null},"Giuliane Eul\xe1lia Corr\xeaa"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Data:"),(0,o.kt)("td",{parentName:"tr",align:null},"28/01/2023")))))}d.isMDXComponent=!0},3566:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/prototipo_-b5947fa5c92bd19c5bf7a5f20d326652.jpg"}}]);
"use strict";(self.webpackChunkFranzininho=self.webpackChunkFranzininho||[]).push([[7296],{94024:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>l});var i=r(17624),o=r(95788);const t={id:"int-externa",title:"Interrup\xe7\xe3o externa",slug:"/franzininho-diy/exemplos-avr-libc/int-ext",description:"Exemplo para uso da interrup\xe7\xe3o externa",authors:"F\xe1bio Souza",date:"05/02/2023",some_url:"https://github.com/FBSeletronica"},a=void 0,s={id:"FranzininhoDIY/exemplos-avr-libc/int-externa",title:"Interrup\xe7\xe3o externa",description:"Exemplo para uso da interrup\xe7\xe3o externa",source:"@site/docs/FranzininhoDIY/exemplos-avr-libc/int-externa.md",sourceDirName:"FranzininhoDIY/exemplos-avr-libc",slug:"/franzininho-diy/exemplos-avr-libc/int-ext",permalink:"/docs/franzininho-diy/exemplos-avr-libc/int-ext",draft:!1,unlisted:!1,editUrl:"https://github.com/Franzininho/docs-franzininho-site/edit/main/docs/FranzininhoDIY/exemplos-avr-libc/int-externa.md",tags:[],version:"current",frontMatter:{id:"int-externa",title:"Interrup\xe7\xe3o externa",slug:"/franzininho-diy/exemplos-avr-libc/int-ext",description:"Exemplo para uso da interrup\xe7\xe3o externa",authors:"F\xe1bio Souza",date:"05/02/2023",some_url:"https://github.com/FBSeletronica"},sidebar:"docs",previous:{title:"Instrumento musical com Buzzer",permalink:"/docs/franzininho-diy/exemplos-avr-libc/buzzer"},next:{title:"TODO",permalink:"/docs/franzininho-diy/exemplos-avr-libc/todo"}},c={},l=[{value:"Recursos Necess\xe1rios",id:"recursos-necess\xe1rios",level:2},{value:"Circuito",id:"circuito",level:2},{value:"C\xf3digo",id:"c\xf3digo",level:2},{value:"Desafio",id:"desafio",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.MN)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"As interrup\xe7\xf5es externas permitem que o microcontrolador interrompa sua execu\xe7\xe3o de tarefas regulares para executar uma tarefa de prioridade mais alta quando ocorre um evento externo. Isso pode ser \xfatil em aplica\xe7\xf5es que requerem resposta r\xe1pida a eventos externos, como pressionar um bot\xe3o ou receber um sinal de outro dispositivo."}),"\n",(0,i.jsx)(n.p,{children:"A configura\xe7\xe3o de uma interrup\xe7\xe3o externa no ATTINY85 envolve a defini\xe7\xe3o do pino que ser\xe1 usado como fonte de interrup\xe7\xe3o, a configura\xe7\xe3o do n\xedvel l\xf3gico que causar\xe1 a interrup\xe7\xe3o e a defini\xe7\xe3o da rotina de interrup\xe7\xe3o que ser\xe1 executada quando a interrup\xe7\xe3o for acionada."}),"\n",(0,i.jsx)(n.p,{children:"Ao programar a Franzininho DIY (ATTINY85) com a biblioteca avrlibc, voc\xea pode facilmente configurar interrup\xe7\xf5es externas usando fun\xe7\xf5es da biblioteca como sei() e cli(). Al\xe9m disso, a avrlibc oferece muitas outras bibliotecas \xfateis para o ATTINY85, tornando o processo de programa\xe7\xe3o mais f\xe1cil e eficiente."}),"\n",(0,i.jsx)(n.h2,{id:"recursos-necess\xe1rios",children:"Recursos Necess\xe1rios"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Placa Franzininho DIY(com Micronucleus)"}),"\n",(0,i.jsx)(n.li,{children:"Chave Tactil"}),"\n",(0,i.jsx)(n.li,{children:"Jumpers"}),"\n",(0,i.jsx)(n.li,{children:"Computador com as ferramentas de software instaladas"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"circuito",children:"Circuito"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"circuito",src:r(1293).c+"",width:"750",height:"432"})}),"\n",(0,i.jsx)(n.h2,{id:"c\xf3digo",children:"C\xf3digo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",children:'/**\n * \n * @file main.c\n * @author F\xe1bio Souza\n * @brief Exemplo para leitura de bot\xe3o e acionamento de LED\n * @version 0.1\n * @date 2021-02-03\n * \n * @copyright Franzininho \n * This example code is in the Public Domain (or CC0 licensed, at your option.)\n * Unless required by applicable law or agreed to in writing, this\n * software is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied.\n * \n */\n\n#include <avr/io.h>\n#include <avr/interrupt.h>\n\n#define F_CPU 16500000L\n \t\n//Macro auxiliares para manipula\xe7\xe3o de bits   \n#define setBit(valor,bit) (valor |= (1<<bit))\n#define clearBit(valor,bit) (valor &= ~(1<<bit))\n#define toogleBit(valor,bit) (valor ^= (1<<bit))\n#define testBit(valor,bit)    (valor & (1<<bit))\n\n// define o pino que o bot\xe3o est\xe1 conectado\n#define BUTTON_PIN PB2\n// define o pino que o LED est\xe1 conectado\n#define LED_PIN PB1\n\n\nISR (INT0_vect)        // Interrupt service routine \n{\n  toogleBit(PORTB,LED_PIN);\n}\n\nint main()\n{\n  setBit(DDRB,LED_PIN); \t    // Configura Pino PB1 como sa\xedda (Pino do LED)\n  clearBit(DDRB,BUTTON_PIN); //configura pino PB0 como entrada (pino do Bot\xe3o)\n  setBit(PORTB,BUTTON_PIN);  //habilita pull up para a entrada PB0 - garante nivel \n                             // l\xf3gico 1 quando bot\xe3o n\xe3o estiver pressionado\n  \n  setBit(GIMSK,INT0);        // Ativa a interrup\xe7\xe3o externa INT0\n  setBit(MCUCR,ISC01);       //configura borda de descida\n  sei();                     // Habilita as interrup\xe7\xf5es globais\n\n  while(1)\n  {\n\n  }\n   \n   return 0;\n}\n'})}),"\n",(0,i.jsx)(n.h1,{id:"simula\xe7\xe3o",children:"Simula\xe7\xe3o"}),"\n",(0,i.jsx)("iframe",{src:"https://wokwi.com/projects/355838633796327425?view=diagram"}),"\n",(0,i.jsx)(n.h2,{id:"desafio",children:"Desafio"}),"\n",(0,i.jsx)(n.p,{children:"Fa\xe7a com com que o LED ligue ao pressionar o botao e desligue quando soltar. Para isso voc\xea preciar\xe1 configurar a interru\xe7\xe3o na borda de subinda."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Autor"}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.a,{href:"https://github.com/FBSeletronica",children:"F\xe1bio Souza"})})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Data:"}),(0,i.jsx)(n.td,{children:"05/02/2023"})]})})]})]})}function u(e={}){const{wrapper:n}={...(0,o.MN)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},95788:(e,n,r)=>{r.d(n,{MN:()=>l});var i=r(11504);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function t(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function s(e,n){if(null==e)return{};var r,i,o=function(e,n){if(null==e)return{};var r,i,o={},t=Object.keys(e);for(i=0;i<t.length;i++)r=t[i],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(i=0;i<t.length;i++)r=t[i],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=i.createContext({}),l=function(e){var n=i.useContext(c),r=n;return e&&(r="function"==typeof e?e(n):a(a({},n),e)),r},d={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},u=i.forwardRef((function(e,n){var r=e.components,o=e.mdxType,t=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(r),m=o,h=p["".concat(c,".").concat(m)]||p[m]||d[m]||t;return r?i.createElement(h,a(a({ref:n},u),{},{components:r})):i.createElement(h,a({ref:n},u))}));u.displayName="MDXCreateElement"},1293:(e,n,r)=>{r.d(n,{c:()=>i});const i=r.p+"assets/images/circuito-int-externa-6910e6a2cd69b62f2f1f59385f317e32.png"}}]);
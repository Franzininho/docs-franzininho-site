(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{154:function(e,a,o){"use strict";o.d(a,"a",(function(){return d})),o.d(a,"b",(function(){return b}));var i=o(0),t=o.n(i);function n(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}function r(e,a){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),o.push.apply(o,i)}return o}function s(e){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?r(Object(o),!0).forEach((function(a){n(e,a,o[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))}))}return e}function A(e,a){if(null==e)return{};var o,i,t=function(e,a){if(null==e)return{};var o,i,t={},n=Object.keys(e);for(i=0;i<n.length;i++)o=n[i],a.indexOf(o)>=0||(t[o]=e[o]);return t}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)o=n[i],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}var l=t.a.createContext({}),c=function(e){var a=t.a.useContext(l),o=a;return e&&(o="function"==typeof e?e(a):s(s({},a),e)),o},d=function(e){var a=c(e.components);return t.a.createElement(l.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return t.a.createElement(t.a.Fragment,{},a)}},p=t.a.forwardRef((function(e,a){var o=e.components,i=e.mdxType,n=e.originalType,r=e.parentName,l=A(e,["components","mdxType","originalType","parentName"]),d=c(o),p=i,b=d["".concat(r,".").concat(p)]||d[p]||u[p]||n;return o?t.a.createElement(b,s(s({ref:a},l),{},{components:o})):t.a.createElement(b,s({ref:a},l))}));function b(e,a){var o=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var n=o.length,r=new Array(n);r[0]=p;var s={};for(var A in a)hasOwnProperty.call(a,A)&&(s[A]=a[A]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var l=2;l<n;l++)r[l]=o[l];return t.a.createElement.apply(null,r)}return t.a.createElement.apply(null,o)}p.displayName="MDXCreateElement"},168:function(e,a,o){"use strict";o.r(a),a.default=o.p+"assets/images/Pinagem-Franzininho-DIY-V2RV2-42a18903012c4dc223f9d4c774730625.png"},184:function(e,a,o){"use strict";o.r(a),a.default=o.p+"assets/images/config-gpio-5448c58ddfc3c042b28c64b3cedb300e.png"},185:function(e,a,o){"use strict";o.r(a),a.default=o.p+"assets/images/registradores-port-B-f8a36498e9dd1043ec81211a0fb7103c.png"},269:function(e,a,o){"use strict";o.r(a),a.default="data:image/jpeg;base64,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"},270:function(e,a,o){"use strict";o.r(a),a.default=o.p+"assets/images/circuito-e0bc37aa32b52d0c36041dc33c4e82ff.png"},84:function(e,a,o){"use strict";o.r(a),o.d(a,"frontMatter",(function(){return s})),o.d(a,"metadata",(function(){return A})),o.d(a,"toc",(function(){return l})),o.d(a,"default",(function(){return d}));var i=o(3),t=o(7),n=(o(0),o(154)),r=["components"],s={id:"entrada-digital",title:"Entrada Digital",slug:"/franzininho-diy/exemplos-avr-libc/entrada-digital",description:"Vamos entender como trabalhar com as Entradas Digitais",authors:"F\xe1bio Souza",date:"24/04/2021",some_url:"https://github.com/FBSeletronica"},A={unversionedId:"FranzininhoDIY/exemplos-avr-libc/entrada-digital",id:"FranzininhoDIY/exemplos-avr-libc/entrada-digital",isDocsHomePage:!1,title:"Entrada Digital",description:"Vamos entender como trabalhar com as Entradas Digitais",source:"@site/docs/FranzininhoDIY/exemplos-avr-libc/entrada-digital.md",slug:"/franzininho-diy/exemplos-avr-libc/entrada-digital",permalink:"/docs-franzininho-site/docs/franzininho-diy/exemplos-avr-libc/entrada-digital",editUrl:"https://github.com/Franzininho/docs-franzininho-site/edit/main/docs/FranzininhoDIY/exemplos-avr-libc/entrada-digital.md",version:"current",sidebar:"docs",previous:{title:"Sa\xedda Digital",permalink:"/docs-franzininho-site/docs/franzininho-diy/exemplos-avr-libc/saida-digital"},next:{title:"Timer 0",permalink:"/docs-franzininho-site/docs/franzininho-diy/exemplos-avr-libc/timer0"}},l=[{value:"Recursos Necess\xe1rios",id:"recursos-necess\xe1rios",children:[]},{value:"Entrada Digital",id:"entrada-digital",children:[{value:"Algumas Particularidades do circuito da Franzininho DIY",id:"algumas-particularidades-do-circuito-da-franzininho-diy",children:[]}]},{value:"Registradores respons\xe1veis pelos pinos de I/O",id:"registradores-respons\xe1veis-pelos-pinos-de-io",children:[]},{value:"Circuito",id:"circuito",children:[]},{value:"C\xf3digo",id:"c\xf3digo",children:[]},{value:"Desafio",id:"desafio",children:[]}],c={toc:l};function d(e){var a=e.components,s=Object(t.a)(e,r);return Object(n.b)("wrapper",Object(i.a)({},c,s,{components:a,mdxType:"MDXLayout"}),Object(n.b)("p",null,"No exemplo anterior conhecemos os registradores respons\xe1veis pela configura\xe7\xe3o e manipula\xe7\xe3o dos pinos de I/O. Nesse exemplo vamos concentrar no uso dos pinos como entradas digitais."),Object(n.b)("p",null,"Ao final, voc\xea saber\xe1 como ler sinais digitais externos a Franzininho DIY."),Object(n.b)("h2",{id:"recursos-necess\xe1rios"},"Recursos Necess\xe1rios"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Placa Franzininho DIY(com Micronucleus)"),Object(n.b)("li",{parentName:"ul"},"Chave Tactil"),Object(n.b)("li",{parentName:"ul"},"Jumpers"),Object(n.b)("li",{parentName:"ul"},"Computador com as ferramentas de software instaladas")),Object(n.b)("h2",{id:"entrada-digital"},"Entrada Digital"),Object(n.b)("p",null,"Uma entrada digital \xe9 capaz de ler n\xedvel alto (5V) e n\xedvel baixo(0V) em sua entrada. Essa funcionalidade \xe9 usada para ler estado de bot\xf5es, sensores, e dispositivos que em suas sa\xeddas apresentam 2 estados."),Object(n.b)("p",null,"Quando o pino \xe9 configurado como entrada digital ele \xe9 colocado em um estado de alta imped\xe2ncia, equivalente a um resistor de 100 MegaOhms em s\xe9rie com o circuito a ser monitorado. Dessa forma, o pino absorve uma corrente muito baixa do circuito que est\xe1 monitorando. Devido a essa caracter\xedstica de alta imped\xe2ncia, quando um pino colocado como entrada digital ele fica flutuando (sem liga\xe7\xe3o definida), o n\xedvel de tens\xe3o presente nesse pino fica variando n\xe3o podendo ser determinado um valor est\xe1vel devido ao ru\xeddo el\xe9trico e at\xe9 mesmo capacit\xe2ncia de entrada do pino. Para resolver esse problema \xe9 necess\xe1rio colocar um resistor de pull up (ligado a +5V) ou um resistor de pull down (ligado a GND) conforme a necessidade. Esses resistores garantem n\xedvel l\xf3gico est\xe1vel quando, por exemplo uma tecla n\xe3o est\xe1 pressionada. Geralmente utiliza-se um resistor de 10K para esse prop\xf3sito. A seguir \xe9 exibida a liga\xe7\xe3o desses resistores no circuito para leitura de tecla:"),Object(n.b)("p",null,Object(n.b)("img",{alt:"circuito",src:o(269).default})),Object(n.b)("p",null,"\xc9 poss\xedvel habilitar o resistor de pull up interno, isso mesmo, o Attiny85 possui resistores de pull-up internos (20 Kilohms) que facilitam a liga\xe7\xe3o de teclas, sensores sem a necessidade de conectar externamente um resistor de pull-up. A habilita\xe7\xe3o desses resistores \xe9 feita de maneira simples via software. Vamos ver isso mais adiante."),Object(n.b)("h3",{id:"algumas-particularidades-do-circuito-da-franzininho-diy"},"Algumas Particularidades do circuito da Franzininho DIY"),Object(n.b)("p",null,"Os pinos de I/O s\xe3o marcados em Amarelo no Pinout da Franzininho DIY"),Object(n.b)("p",null,Object(n.b)("img",{alt:"pinout Franzininho DIY",src:o(168).default})),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"O pino PB5 \xe9 configurado como RESET na Franzininho DIY, sendo assim n\xe3o poderemos us\xe1-lo como I/O."),Object(n.b)("li",{parentName:"ul"},"Os pinos PB3 e PB4 s\xe3o usados para o circuito da USB, sendo assim temos que us\xe1-los com cautela. Geralmente esses pinos s\xe3o usados apenas como sa\xeddas digitais."),Object(n.b)("li",{parentName:"ul"},"O LED amarelo da placa est\xe1 ligado ao pino PB1."),Object(n.b)("li",{parentName:"ul"},"Os pinos PB0 E PB2 n\xe3o possuem circuito ligados a eles.")),Object(n.b)("h2",{id:"registradores-respons\xe1veis-pelos-pinos-de-io"},"Registradores respons\xe1veis pelos pinos de I/O"),Object(n.b)("p",null,"Para trabalhar com os pinos de I/O no ATtiny85 temos 3 registradores:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"PORTB: Registrador de dados. Respons\xe1vel pela escrita nos pinos;"),Object(n.b)("li",{parentName:"ul"},"DDRB: Registrador de dire\xe7\xe3o do pino. Respons\xe1vel pela configura\xe7\xe3o dos pinos para definir se ser\xe1 entrada ou sa\xedda;"),Object(n.b)("li",{parentName:"ul"},"PINB: Registrador de entrada da porta. Respons\xe1vel pela leitura do estado do pino.")),Object(n.b)("p",null,"Note que todos os registradores terminam com B no final. Isso significa que estamos trabalhando com o PORTB. Caso fosse um microcontrolador com maior quantidade de pinos ter\xedamos os finais A, B,C, etc. Cada porta s\xf3 possui no m\xe1ximo 8 pinos."),Object(n.b)("p",null,"Na se\xe7\xe3o 10 do datasheet do ATtiny85 temos todos os detalhes para se trabalhar com os I/O. A tabela a seguir, retirada do datasheet, exibe as configura\xe7\xf5es poss\xedveis para os pinos:"),Object(n.b)("p",null,Object(n.b)("img",{alt:"configura\xe7\xe3o GPIO",src:o(184).default})),Object(n.b)("p",null,"A figura abaixo exibe os registradores respons\xe1veis pelos pino de I/O do PORTB:"),Object(n.b)("p",null,Object(n.b)("img",{alt:"configura\xe7\xe3o GPIO",src:o(185).default})),Object(n.b)("p",null,"Conforme exibido acima, para configurar um pino como entrada digital deve-se configurar o bit DDRBx correspondente ao pino em 0. Se quiser habilitar o pull up para esse deve-se escrever 1 no bit PORTBx correspondente ao pino. A leitura do estado do pino \xe9 feita atrav\xe9s do registrador PINBx."),Object(n.b)("p",null,"Vamos verificar um exemplo para fazer a leitura de um bot\xe3o externo e ligar o LED da Franzininho DIY."),Object(n.b)("h2",{id:"circuito"},"Circuito"),Object(n.b)("p",null,Object(n.b)("img",{alt:"circuito",src:o(270).default})),Object(n.b)("h2",{id:"c\xf3digo"},"C\xf3digo"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-c"},"#include <avr/io.h>\n#include <util/delay.h>\n\n#define F_CPU 16500000L\n\n// Macros\n#define setBit(valor,bit) (valor |= (1 << bit))\n#define clearBit(valor,bit) (valor &= ~(1 << bit))\n#define toogleBit(valor,bit) (valor ^= (1 << bit))\n#define testBit(valor,bit) (valor & (1 << bit))\n\nint main(void)\n{\n    setBit(DDRB, PB1);         // Configura Pino PB1 como sa\xedda (Pino do LED)\n    clearBit(DDRB, PB0);       // Configura pino PB0 como entrada (pino do Bot\xe3o)\n    setBit(PORTB, PB0);        // Habilita pull up para a entrada PB0\n                               // L\xf3gico 1 quando bot\xe3o n\xe3o estiver pressionado\n    while (1)\n    {\n        if (!testBit(PINB, PB0))  // Faz a leitura do bot\xe3o - Se pressionado\n        {\n            setBit(PORTB, PB1);   // Liga o LED 1\n        }\n        else\n        {\n            clearBit(PORTB, PB1); // Desliga o LED 1\n        }\n    }\n\n    return (0);\n}\n")),Object(n.b)("p",null,"O exemplo exibiu como configurar os pinos, note que tivemos que configurar um pino como sa\xedda, para o LED e outro como entrada, para o bot\xe3o. Note que foi usado o pull up interno."),Object(n.b)("p",null,"O uso de macros facilitou a manipula\xe7\xe3o dos bits nos registradores. Recomendo que se voc\xea leia esse artigo para entender sobre as macros e as opera\xe7\xf5es efetuadas: ",Object(n.b)("a",{parentName:"p",href:"https://www.embarcados.com.br/bits-em-linguagem-c/"},"https://www.embarcados.com.br/bits-em-linguagem-c/")),Object(n.b)("p",null,"Para leitura do estado do pino, ou seja, se o bot\xe3o est\xe1 solto ou pressionado, fazemos um teste a cada itera\xe7\xe3o no loop infinto. Quando o bot\xe3o \xe9 pressionado o n\xedvel logico no pino vai para 0 e quando solto permanece em 1. Conforme o teste 0 liga o LED e 1 apaga o LED."),Object(n.b)("p",null,"Assim, o funcionamento ser\xe1:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Bot\xe3o Solto = LED apagado"),Object(n.b)("li",{parentName:"ul"},"Bot\xe3o Pressionado = LED Aceso")),Object(n.b)("p",null,"Bacana, n\xe3o?"),Object(n.b)("h2",{id:"desafio"},"Desafio"),Object(n.b)("p",null,"Fa\xe7a com com que o LED mude estado e permane\xe7a ao soltar o bot\xe3o, funcionando como uma tecla liga/desliga."),Object(n.b)("table",null,Object(n.b)("thead",{parentName:"table"},Object(n.b)("tr",{parentName:"thead"},Object(n.b)("th",{parentName:"tr",align:null},"Autor"),Object(n.b)("th",{parentName:"tr",align:null},Object(n.b)("a",{parentName:"th",href:"https://github.com/FBSeletronica"},"F\xe1bio Souza")))),Object(n.b)("tbody",{parentName:"table"},Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"Data:"),Object(n.b)("td",{parentName:"tr",align:null},"24/04/2021")))))}d.isMDXComponent=!0}}]);
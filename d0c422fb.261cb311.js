(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{141:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return c})),t.d(a,"metadata",(function(){return s})),t.d(a,"toc",(function(){return d})),t.d(a,"default",(function(){return u}));var r=t(3),i=t(7),n=(t(0),t(164)),o=["components"],c={id:"circuitpython-dht11",title:"Sensor de temperatura e umidade DHT11",slug:"/franzininho-wifi/exemplos-circuitpython/dht11",description:"Nesse exemplo aprenderemos usar ler valores de temperatura e umidade com o sensor DHT11 usando o CircuitPython.",author:"Cl\xe1udio Lu\xeds Vieira Oliveira"},s={unversionedId:"FranzininhoWifi/exemplos-circuitpython/circuitpython-dht11",id:"FranzininhoWifi/exemplos-circuitpython/circuitpython-dht11",isDocsHomePage:!1,title:"Sensor de temperatura e umidade DHT11",description:"Nesse exemplo aprenderemos usar ler valores de temperatura e umidade com o sensor DHT11 usando o CircuitPython.",source:"@site/docs/FranzininhoWifi/exemplos-circuitpython/dht11.md",slug:"/franzininho-wifi/exemplos-circuitpython/dht11",permalink:"/docs/franzininho-wifi/exemplos-circuitpython/dht11",editUrl:"https://github.com/Franzininho/docs-franzininho-site/edit/main/docs/FranzininhoWifi/exemplos-circuitpython/dht11.md",version:"current",sidebar:"docs",previous:{title:"Display OLED I2C",permalink:"/docs/franzininho-wifi/exemplos-circuitpython/display-oled-i2c"},next:{title:"Sensor de Dist\xe2ncia Ultrass\xf4nico HC-SR04",permalink:"/docs/franzininho-wifi/exemplos-circuitpython/sensor-hcsr04"}},d=[{value:"Materiais necess\xe1rios",id:"materiais-necess\xe1rios",children:[]},{value:"Circuito",id:"circuito",children:[]},{value:"C\xf3digo",id:"c\xf3digo",children:[]},{value:"An\xe1lise do c\xf3digo",id:"an\xe1lise-do-c\xf3digo",children:[]},{value:"Resultado",id:"resultado",children:[]},{value:"Conclus\xe3o",id:"conclus\xe3o",children:[]}],l={toc:d};function u(e){var a=e.components,c=Object(i.a)(e,o);return Object(n.b)("wrapper",Object(r.a)({},l,c,{components:a,mdxType:"MDXLayout"}),Object(n.b)("p",null,"Nesse exemplo aprenderemos usar ler valores de temperatura e umidade com o sensor DHT11."),Object(n.b)("h2",{id:"materiais-necess\xe1rios"},"Materiais necess\xe1rios"),Object(n.b)("p",null,"Identifique os seguintes materiais necess\xe1rios para este projeto:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"1 Franzininho WiFi."),Object(n.b)("li",{parentName:"ul"},"1 Sensor DHT11"),Object(n.b)("li",{parentName:"ul"},"1 Resistor de 10k"),Object(n.b)("li",{parentName:"ul"},"1 Protoboard."),Object(n.b)("li",{parentName:"ul"},"Cabos de liga\xe7\xe3o.")),Object(n.b)("h2",{id:"circuito"},"Circuito"),Object(n.b)("p",null,"Realize a montagem do circuito da maneira indicada pela figura a seguir:"),Object(n.b)("p",null,Object(n.b)("img",{alt:"Circuito DHT11",src:t(395).default})),Object(n.b)("h2",{id:"c\xf3digo"},"C\xf3digo"),Object(n.b)("p",null,"Para usar o sensor DHT com a Franzininho WiFi, precisamos instalar o m\xf3dulo ",Object(n.b)("strong",{parentName:"p"},"adafruit_dht")," na placa antes de criarmos nosso c\xf3digo."),Object(n.b)("p",null,"As bibliotecas para o CircuitPython podem ser obtidas atrav\xe9s do endere\xe7o ",Object(n.b)("a",{parentName:"p",href:"https://circuitpython.org/libraries"},"https://circuitpython.org/libraries"),". Escolha e baixe o arquivo de acordo com a vers\xe3o do CircuitPyhthon que voc\xea tem instalado na Franzininho WiFi."),Object(n.b)("p",null,"Em seguida, copie o seguinte arquivo diretamente para a pasta ",Object(n.b)("strong",{parentName:"p"},"lib")," do sistema de arquivos da Franzininho WiFi:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"adafruit_dht.mpy")),Object(n.b)("p",null,Object(n.b)("img",{alt:"Instala\xe7\xe3o da Biblioteca",src:t(396).default})),Object(n.b)("p",null,"Para demonstrar o uso do m\xf3dulo do sensor DHT, digite o c\xf3digo abaixo e conecte ao terminal serial (REPL) da placa para verificar os valores de temperatura e umidade lidos."),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-python"},'""" Leitura de temperatura e umidade com DHT11 """\n\nimport board\nimport time\nimport adafruit_dht\n\ndht = adafruit_dht.DHT11(board.IO2)\n\nwhile True:\n    try:\n        temperatura = dht.temperature\n        umidade = dht.humidity\n        # Imprime valores lidos na serial\n        print("Temperatura: {:.1f} \xb0C \\t Umidade: {}%".format(temperatura, umidade))\n    except RuntimeError as e:\n        # A leitura do DHT11 pode falhar\n        print("Falha na leitura do DHT11: ", e.args)\n\n    time.sleep(1)\n')),Object(n.b)("h2",{id:"an\xe1lise-do-c\xf3digo"},"An\xe1lise do c\xf3digo"),Object(n.b)("p",null,"Na primeira parte do c\xf3digo temos a importa\xe7\xe3o das bibliotecas a serem usadas na aplica\xe7\xe3o. Note que importamos o m\xf3dulo ",Object(n.b)("strong",{parentName:"p"},"adafruit_dht")," que instalamos na pasta ",Object(n.b)("strong",{parentName:"p"},"lib")," da placa:"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-python"},"import board\nimport time\nimport adafruit_dht\n")),Object(n.b)("p",null,"Em seguida criamos uma inst\xe2ncia e escolhemos o modo DHT11, ja que \xe9 poss\xedvel trabalhar com outros modelos com essa biblioteca. \xc9 necessario passar como par\xe2metro o pino que est\xe1 conectado a linha de comunica\xe7\xe3o do sensor. Em nosso caso passamos o pino 2:"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-python"},"dht = adafruit_dht.DHT11(board.IO2)\n")),Object(n.b)("p",null,"No loop infinito fazemos a leitura dos valores de temperatura e umidade a cada ",Object(n.b)("strong",{parentName:"p"},"1 segundo")," atrav\xe9s dos metodos ",Object(n.b)("inlineCode",{parentName:"p"},"dht.temperature")," e ",Object(n.b)("inlineCode",{parentName:"p"},"dht.humidity"),", e imprimimos os valores lidos no terminal serial."),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-python"},'while True:\n    try:\n        temperatura = dht.temperature\n        umidade = dht.humidity\n        # Imprime valores lidos na serial\n        print("Temperatura: {:.1f} \xb0C \\t Umidade: {}%".format(temperatura, umidade))\n    except RuntimeError as e:\n        # A leitura do DHT11 pode falhar\n        print("Falha na leitura do DHT11: ", e.args)\n\n    time.sleep(1)\n')),Object(n.b)("h2",{id:"resultado"},"Resultado"),Object(n.b)("p",null,"A figura a seguir exibe os valores lidos no terminal serial(REPL):"),Object(n.b)("p",null,Object(n.b)("img",{alt:"Terminal Serial",src:t(397).default})),Object(n.b)("h2",{id:"conclus\xe3o"},"Conclus\xe3o"),Object(n.b)("p",null,"O sensor DHT11( e similares) possibilita que fa\xe7amos leitura de temperatura e umidade de uma forma simples e eficiente. Atrav\xe9s de 1 fio de comunica\xe7\xe3o conseguimos fazer a leitura das duas grandezas. Como a comunica\xe7\xe3o \xe9 um pouco complexa, o  uso de uma biblioteca facilita a comunica\xe7\xe3o com o dispositivo."),Object(n.b)("div",{className:"admonition admonition-info alert alert--info"},Object(n.b)("div",{parentName:"div",className:"admonition-heading"},Object(n.b)("h5",{parentName:"div"},Object(n.b)("span",{parentName:"h5",className:"admonition-icon"},Object(n.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(n.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(n.b)("div",{parentName:"div",className:"admonition-content"},Object(n.b)("p",{parentName:"div"},"Se tiver alguma d\xfavida consulte a comunidade Franzininho no ",Object(n.b)("a",{parentName:"p",href:"https://discord.gg/H5kENmWGaz"},"Discord")))),Object(n.b)("table",null,Object(n.b)("thead",{parentName:"table"},Object(n.b)("tr",{parentName:"thead"},Object(n.b)("th",{parentName:"tr",align:null},"Autor"),Object(n.b)("th",{parentName:"tr",align:null},"F\xe1bio Souza"))),Object(n.b)("tbody",{parentName:"table"},Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"Data:"),Object(n.b)("td",{parentName:"tr",align:null},"10/10/2021")))))}u.isMDXComponent=!0},164:function(e,a,t){"use strict";t.d(a,"a",(function(){return u})),t.d(a,"b",(function(){return b}));var r=t(0),i=t.n(r);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,r,i=function(e,a){if(null==e)return{};var t,r,i={},n=Object.keys(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=i.a.createContext({}),l=function(e){var a=i.a.useContext(d),t=a;return e&&(t="function"==typeof e?e(a):c(c({},a),e)),t},u=function(e){var a=l(e.components);return i.a.createElement(d.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return i.a.createElement(i.a.Fragment,{},a)}},m=i.a.forwardRef((function(e,a){var t=e.components,r=e.mdxType,n=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=l(t),m=r,b=u["".concat(o,".").concat(m)]||u[m]||p[m]||n;return t?i.a.createElement(b,c(c({ref:a},d),{},{components:t})):i.a.createElement(b,c({ref:a},d))}));function b(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var n=t.length,o=new Array(n);o[0]=m;var c={};for(var s in a)hasOwnProperty.call(a,s)&&(c[s]=a[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var d=2;d<n;d++)o[d]=t[d];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},395:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/circuito-43a970745d9aaeec4fad97f720fd8811.png"},396:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/lib-7c2dd516e09a0e1aed3ab358bcd7af0a.png"},397:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/terminal-59d0e1d7a0f860e09a850af3600f4abd.png"}}]);
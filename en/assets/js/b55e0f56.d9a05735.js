"use strict";(self.webpackChunkFranzininho=self.webpackChunkFranzininho||[]).push([[9821],{3905:(e,a,o)=>{o.d(a,{Zo:()=>p,kt:()=>g});var n=o(7294);function r(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}function t(e,a){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?t(Object(o),!0).forEach((function(a){r(e,a,o[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))}))}return e}function l(e,a){if(null==e)return{};var o,n,r=function(e,a){if(null==e)return{};var o,n,r={},t=Object.keys(e);for(n=0;n<t.length;n++)o=t[n],a.indexOf(o)>=0||(r[o]=e[o]);return r}(e,a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(n=0;n<t.length;n++)o=t[n],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var s=n.createContext({}),m=function(e){var a=n.useContext(s),o=a;return e&&(o="function"==typeof e?e(a):i(i({},a),e)),o},p=function(e){var a=m(e.components);return n.createElement(s.Provider,{value:a},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var o=e.components,r=e.mdxType,t=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=m(o),d=r,g=c["".concat(s,".").concat(d)]||c[d]||u[d]||t;return o?n.createElement(g,i(i({ref:a},p),{},{components:o})):n.createElement(g,i({ref:a},p))}));function g(e,a){var o=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var t=o.length,i=new Array(t);i[0]=d;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l[c]="string"==typeof e?e:r,i[1]=l;for(var m=2;m<t;m++)i[m]=o[m];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},2403:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>t,metadata:()=>l,toc:()=>m});var n=o(3117),r=(o(7294),o(3905));const t={id:"hello-world",title:"Hello, World!",slug:"/franzininho-diy/exemplos-avr-libc/hello-world",description:"Nesse primeiros exemplo vamos dar os primeiros passos na programa\xe7\xe3o da Franzininho DIY",authors:"F\xe1bio Souza",date:"24/04/2021",some_url:"https://github.com/FBSeletronica"},i=void 0,l={unversionedId:"FranzininhoDIY/exemplos-avr-libc/hello-world",id:"FranzininhoDIY/exemplos-avr-libc/hello-world",title:"Hello, World!",description:"Nesse primeiros exemplo vamos dar os primeiros passos na programa\xe7\xe3o da Franzininho DIY",source:"@site/docs/FranzininhoDIY/exemplos-avr-libc/hello-world.md",sourceDirName:"FranzininhoDIY/exemplos-avr-libc",slug:"/franzininho-diy/exemplos-avr-libc/hello-world",permalink:"/en/docs/franzininho-diy/exemplos-avr-libc/hello-world",draft:!1,editUrl:"https://github.com/Franzininho/docs-franzininho-site/edit/main/docs/FranzininhoDIY/exemplos-avr-libc/hello-world.md",tags:[],version:"current",frontMatter:{id:"hello-world",title:"Hello, World!",slug:"/franzininho-diy/exemplos-avr-libc/hello-world",description:"Nesse primeiros exemplo vamos dar os primeiros passos na programa\xe7\xe3o da Franzininho DIY",authors:"F\xe1bio Souza",date:"24/04/2021",some_url:"https://github.com/FBSeletronica"},sidebar:"docs",previous:{title:"Primeiros Passos",permalink:"/en/docs/franzininho-diy/exemplos-avr-libc/primeiros-passos"},next:{title:"Sa\xedda Digital",permalink:"/en/docs/franzininho-diy/exemplos-avr-libc/saida-digital"}},s={},m=[{value:"Recursos Necess\xe1rios",id:"recursos-necess\xe1rios",level:2},{value:"Hello, World em linguagem C",id:"hello-world-em-linguagem-c",level:2},{value:"C\xf3digo",id:"c\xf3digo",level:3},{value:"Compila\xe7\xe3o e upload",id:"compila\xe7\xe3o-e-upload",level:3},{value:"Resultados",id:"resultados",level:3},{value:"Conclus\xe3o",id:"conclus\xe3o",level:2}],p={toc:m},c="wrapper";function u(e){let{components:a,...o}=e;return(0,r.kt)(c,(0,n.Z)({},p,o,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Nesse exemplo vamos dar os nossos primeiros passos na programa\xe7\xe3o da Franzininho DIY usando a ",(0,r.kt)("a",{parentName:"p",href:"https://nongnu.org/avr-libc/"},"AVR Libc"),"."),(0,r.kt)("p",null,'Como de costume o nosso "Hello, World!" na eletr\xf4nica ser\xe1 um blink LED. Ao final desse experimento voc\xea ter\xe1 uma estrutura m\xednima para desenvolver aplica\xe7\xf5es para o ATtiny85 em C.'),(0,r.kt)("p",null,"Bora, colocar em pr\xe1tica!"),(0,r.kt)("h2",{id:"recursos-necess\xe1rios"},"Recursos Necess\xe1rios"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Placa Franzininho DIY(com Micronucleus)"),(0,r.kt)("li",{parentName:"ul"},"Computador com as ferramentas de software instaladas(link)")),(0,r.kt)("h2",{id:"hello-world-em-linguagem-c"},"Hello, World em linguagem C"),(0,r.kt)("p",null,"Esse exemplo b\xe1sico nos dar\xe1 estrutura para todos nossos exemplos daqui pra frente. Como j\xe1 mencionado, vamos usar a linguagem C em conjunto com a biblioteca AVR Libc. Para esse exemplo voc\xea s\xf3 precisar\xe1 da placa Franzininho DIY e as ferramentas de softwares."),(0,r.kt)("p",null,"O c\xf3digo exibe a estrutura m\xednima de um programa em linguagem C para microcontroladores. Se voc\xea tem dificuldades com a linguagem C, recomendo que confira os seguintes materiais:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=l9ZdS8kph0A&list=PLqY1DITQ0sB_5yUBqhnm37J5PxsjrVPKT"},"Playlist Linguagem C")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.slideshare.net/FabioSouza9/resumo-linguagem-c-para-microcontroladores-pic-usando-mikroc"},"Slideshare"))),(0,r.kt)("p",null,"Nesse momento \xe9 importante que voc\xea se atente a estrutura do c\xf3digo. Vamos usar alguns registradores para acionar o LED, mas n\xe3o ser\xe3o o foco da explica\xe7\xe3o. Confira os coment\xe1rios no c\xf3digo a seguir:"),(0,r.kt)("h3",{id:"c\xf3digo"},"C\xf3digo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-c"},"#include <avr/io.h>            // Biblioteca para acesso aos registradores do MCU\n#include <util/delay.h>        // Biblioteca para fun\xe7\xf5es de delay\n\n#define F_CPU 16500000L        // Frequencia de clock que o mcu est\xe1 trabalhando\n\n/**\n  Essa \xe9 a fun\xe7\xe3o principal onde \xe9 iniciada aplica\xe7\xe3o\n*/\nint main(void)\n{\n    DDRB |= (1 << PB1);        // Configura Pino PB1 como sa\xedda (Pino do LED)\n\n    // O programar ficar\xe1 nesse loop enquanto a placa estiver ligada\n    while (1)\n    {\n        PORTB |= (1 << PB1);   // Liga LED\n        _delay_ms(500);        // Aguarda 500 ms\n\n        PORTB &= ~(1 << PB1);  // Desliga LED\n        _delay_ms(500);        // Aguarda 500 ms\n    }\n\n    return (0);                // Necess\xe1rio um retorno (pois a fun\xe7\xe3o retorna int) mesmo que a fun\xe7\xe3o nunca retornar\xe1\n}\n")),(0,r.kt)("h3",{id:"compila\xe7\xe3o-e-upload"},"Compila\xe7\xe3o e upload"),(0,r.kt)("p",null,"para compilar o programa, acesse a pasta do exemplo e em seguida o comando  ",(0,r.kt)("inlineCode",{parentName:"p"},"make"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"exemplos-avr-libc/exemplos/hello$ make\n")),(0,r.kt)("p",null,"J\xe1 temos o makefile configurado na pasta, assim, ser\xe1 feita a compila\xe7\xe3o e em seguida aparecer\xe1 a mensagem para conectar a placa:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"../../micronucleus/2.0a4/launcher  -cdigispark --timeout 60 -Uflash:w:main.hex:i\nRunning Digispark Uploader...\nPlug in device now... (will timeout in 60 seconds)\n> Please plug in the device (will time out in 60 seconds) ...\n")),(0,r.kt)("p",null,"Conecte a placa no PC ou pressione o bot\xe3o de RESET se ela j\xe1 estiver conectada."),(0,r.kt)("p",null,"Ser\xe1 iniciado o upload."),(0,r.kt)("h3",{id:"resultados"},"Resultados"),(0,r.kt)("p",null,"Nesse exemplo o LED ir\xe1 piscar em intervalos de 500 ms (on) e 500 ms (off)."),(0,r.kt)("p",null,"No pr\xf3ximo exemplo vamos detalhar sobre os registradores de IO. Nesse momento, al\xe9m da estrutura inicial \xe9 importante que voc\xea entenda como usar a fun\xe7\xe3o ",(0,r.kt)("inlineCode",{parentName:"p"},"_delay_ms()"),"."),(0,r.kt)("p",null,"Essa fun\xe7\xe3o espera o tempo passado em milissegundos."),(0,r.kt)("p",null,"Altere o c\xf3digo para que o led fique 100 ms(on) e 1000 ms (off), veja o efeito."),(0,r.kt)("h2",{id:"conclus\xe3o"},"Conclus\xe3o"),(0,r.kt)("p",null,"Nesse exemplo tivemos o primeiro contato com a programa\xe7\xe3o em linguagem C para microcontroladores. Notamos que devemos incluir as bibliotecas externas atrav\xe9s do ",(0,r.kt)("inlineCode",{parentName:"p"},"#include")," e que o programa precisa necessariamente ter a fun\xe7\xe3o ",(0,r.kt)("inlineCode",{parentName:"p"},"int main(void)"),"."),(0,r.kt)("p",null,"Dentro da fun\xe7\xe3o main temos um loop infinito onde os comandos se repetir\xe3o enquanto a placa estiver ligada."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Autor"),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"th",href:"https://github.com/FBSeletronica"},"F\xe1bio Souza")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Data:"),(0,r.kt)("td",{parentName:"tr",align:null},"24/04/2021")))))}u.isMDXComponent=!0}}]);
"use strict";(self.webpackChunkFranzininho=self.webpackChunkFranzininho||[]).push([[1520],{89172:(e,a,i)=>{i.r(a),i.d(a,{assets:()=>l,contentTitle:()=>t,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var n=i(17624),r=i(95788);const o={id:"circuitpython-sistema-de-irriga\xe7\xe3o",title:"Sistema de irriga\xe7\xe3o autom\xe1tico",slug:"/franzininho-wifi/exemplos-circuitpython/irrigacao",description:"Um sistema de irriga\xe7\xe3o autom\xe1tico \xe9 uma solu\xe7\xe3o para ajudar a manter de forma sistem\xe1tica a irriga\xe7\xe3o de suas plantas.",author:"Giuliane Eul\xe1lia Corr\xeaa"},t=void 0,s={id:"FranzininhoWifi/exemplos-circuitpython/circuitpython-sistema-de-irriga\xe7\xe3o",title:"Sistema de irriga\xe7\xe3o autom\xe1tico",description:"Um sistema de irriga\xe7\xe3o autom\xe1tico \xe9 uma solu\xe7\xe3o para ajudar a manter de forma sistem\xe1tica a irriga\xe7\xe3o de suas plantas.",source:"@site/docs/FranzininhoWifi/exemplos-circuitpython/irrigacao.md",sourceDirName:"FranzininhoWifi/exemplos-circuitpython",slug:"/franzininho-wifi/exemplos-circuitpython/irrigacao",permalink:"/en/docs/franzininho-wifi/exemplos-circuitpython/irrigacao",draft:!1,unlisted:!1,editUrl:"https://github.com/Franzininho/docs-franzininho-site/edit/main/docs/FranzininhoWifi/exemplos-circuitpython/irrigacao.md",tags:[],version:"current",frontMatter:{id:"circuitpython-sistema-de-irriga\xe7\xe3o",title:"Sistema de irriga\xe7\xe3o autom\xe1tico",slug:"/franzininho-wifi/exemplos-circuitpython/irrigacao",description:"Um sistema de irriga\xe7\xe3o autom\xe1tico \xe9 uma solu\xe7\xe3o para ajudar a manter de forma sistem\xe1tica a irriga\xe7\xe3o de suas plantas.",author:"Giuliane Eul\xe1lia Corr\xeaa"},sidebar:"docs",previous:{title:"Servo motor",permalink:"/en/docs/franzininho-wifi/exemplos-circuitpython/servo-motor"},next:{title:"Primeiros Passos",permalink:"/en/docs/franzininho-wifi/exemplos-arduino/primeiros-passos"}},l={},d=[{value:"<strong>Materiais Usados</strong>",id:"materiais-usados",level:2},{value:"<strong>Circuito Eletr\xf4nico</strong>",id:"circuito-eletr\xf4nico",level:2},{value:"<strong>C\xf3digo-fonte</strong>",id:"c\xf3digo-fonte",level:2},{value:"<strong>Entendendo o C\xf3digo-fonte</strong>",id:"entendendo-o-c\xf3digo-fonte",level:2},{value:"<strong>Conclus\xe3o</strong>",id:"conclus\xe3o",level:2}];function c(e){const a={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.MN)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.p,{children:"Um sistema de irriga\xe7\xe3o autom\xe1tico \xe9 uma solu\xe7\xe3o para ajudar a manter de forma sistem\xe1tica a irriga\xe7\xe3o\nde suas plantas."}),"\n",(0,n.jsx)(a.p,{children:"Esse sistema permite programar as regras de acordo com as necessidades das plantas. Isso garante uma economia\nde \xe1gua e tempo, para quem possui um jardim ou horta e para grandes sistemas de irriga\xe7\xe3o\nna agricultura."}),"\n",(0,n.jsx)(a.p,{children:"Agora vamos descrever um exemplo de um sistema de irriga\xe7\xe3o automatico poss\xedvel de construir de forma simples mas com grande\npoder de automa\xe7\xe3o."}),"\n",(0,n.jsx)(a.h2,{id:"materiais-usados",children:(0,n.jsx)(a.strong,{children:"Materiais Usados"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"1 Placa Franzininho WiFi"}),"\n",(0,n.jsx)(a.li,{children:"1 Sensor de umidade do solo - Higr\xf4metro com saida digital e analogica"}),"\n",(0,n.jsx)(a.li,{children:"1 Protoboard de 830 pontos"}),"\n",(0,n.jsx)(a.li,{children:"1 Mini bomba de \xe1gua submersa 5v"}),"\n",(0,n.jsx)(a.li,{children:"1 Rel\xe9 5v"}),"\n",(0,n.jsx)(a.li,{children:"Cabos Jumpers - Macho/Macho e Macho/Femea"}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"circuito-eletr\xf4nico",children:(0,n.jsx)(a.strong,{children:"Circuito Eletr\xf4nico"})}),"\n",(0,n.jsx)(a.p,{children:"Para o exemplo que vamos ver a seguir, realize a seguinte montagem:"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"Circuito Servo Motor",src:i(11868).c+"",width:"1779",height:"2385"})}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Observa\xe7\xf5es:"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"O rel\xe9 \xe9 conectado a 5V da placa"}),"\n",(0,n.jsx)(a.li,{children:"Cabos azuis: sa\xeddas digitais"}),"\n",(0,n.jsx)(a.li,{children:"Cabos vermelhos: VCC"}),"\n",(0,n.jsx)(a.li,{children:"Cabos pretos: GND"}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"c\xf3digo-fonte",children:(0,n.jsx)(a.strong,{children:"C\xf3digo-fonte"})}),"\n",(0,n.jsxs)(a.p,{children:["Para iniciar, \xe9 necess\xe1rio j\xe1 ter seguido o tutorial de ",(0,n.jsx)(a.strong,{children:"Primeiros passos"}),", que tamb\xe9m se encontra na p\xe1gina da Franzininho em documenta\xe7\xe3o,\nter o CircuitPython instalado na placa e para esse projeto utilizamos o Mu editor. Para obter esse ambiente basta seguir os passos em ",(0,n.jsx)(a.strong,{children:"Instalando as ferramentas"}),"."]}),"\n",(0,n.jsx)(a.p,{children:"A partir daqui consideramos que os primeiros passos de instala\xe7\xe3o e do ambiente foram conclu\xeddos.\nAbaixo est\xe1 o c\xf3digo do sistema na placa usando CircuitPython, voc\xea pode copiar e colar o c\xf3digo fonte na sua IDE."}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'import board\nimport time\n\nfrom digitalio import DigitalInOut, Direction, Pull\nfrom analogio import AnalogIn  \n\nrelay = DigitalInOut(board.IO0)\nrelay.switch_to_output()\n\nhumid_analog = AnalogIn(board.IO1)       \nhumid_digital = DigitalInOut(board.IO4)   \nhumid_digital.direction = Direction.INPUT \n\nrelay.value = True\n\nwait_time = 1\nwatering_time = 1\n\ndry_value = 51130\n\nwhile True:\n    try:\n        print("humid (Digital value):", humid_digital.value)\n        print("humid (Analogic value):", humid_analog.value)\n\n        time.sleep(1);\n\n        if humid_analog.value > dry_value :\n            print("Starting watering...")\n\n            relay.value = False\n\n            time.sleep(watering_time)\n            print("Finishing watering.")\n\n        else:\n            relay.value = True\n            time.sleep(wait_time)\n\n    except RuntimeError as e:\n        print("Read failure")\n\n    time.sleep(1)\n'})}),"\n",(0,n.jsx)(a.p,{children:"Ap\xf3s terminar de escrever, e analisar no ambiente de desenvolvimento. Basta salvar e apertar no serial para executar no mu-editor. Caso esteja utilizando outra IDE, basta execut\xe1-la no ambiente escolhido."}),"\n",(0,n.jsx)(a.h2,{id:"entendendo-o-c\xf3digo-fonte",children:(0,n.jsx)(a.strong,{children:"Entendendo o C\xf3digo-fonte"})}),"\n",(0,n.jsx)(a.p,{children:"O primeiro m\xf3dulo que vamos importar, \xe9 o board. Ele possibilita o acesso aos pinos da placa:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"import board\n"})}),"\n",(0,n.jsx)(a.p,{children:"Este m\xf3dulo fornece v\xe1rias fun\xe7\xf5es relacionadas ao tempo:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"import time\n"})}),"\n",(0,n.jsx)(a.p,{children:"O digitalio \xe9 um m\xf3dulo que cont\xe9m classes para fornecer acesso a IO digital b\xe1sico:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"from digitalio import DigitalInOut, Direction, Pull\n"})}),"\n",(0,n.jsx)(a.p,{children:"Cria um objeto e conecta o objeto com uma entrada anal\xf3gica:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"from analogio import AnalogIn \n"})}),"\n",(0,n.jsx)(a.p,{children:"Agora, vamos atribuir o rel\xe9:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"relay = DigitalInOut(board.IO0)\nrelay.switch_to_output()\n"})}),"\n",(0,n.jsx)(a.p,{children:"Atribuimos as entradas anal\xf3gicas e digitais do sensor de umidade do solo na porta 1, sendo esta uma porta anal\xf3gica e na porta 4 a digital do franzinho. Configurando tamb\xe9m o pino como entrada digital:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"humid_analog = AnalogIn(board.IO1)        # analog\nhumid_digital = DigitalInOut(board.IO4)   # digital\nhumid_digital.direction = Direction.INPUT\n"})}),"\n",(0,n.jsx)(a.p,{children:'O rel\xe9 foi configurado para usar a porta "sempre fechada",ent\xe3o precisamos defini-lo com o valor verdadeiro para que o rel\xe9 fique inativo:'}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"relay.value = True\n"})}),"\n",(0,n.jsx)(a.p,{children:"Per\xedodo de tempo para verificar o sistema. O controle desse per\xedodo de tempo para manter a rega da planta depende da voltagem que alimenta a bomba:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"wait_time = 1\nwatering_time = 1\n"})}),"\n",(0,n.jsx)(a.p,{children:"Adaptado de acordo com o sensor de umidade do solo, \xe9 necessario fazer laguns testes na sua terra para saber o valor da terra que vai ser utilizada:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"dry_value = 51130\n"})}),"\n",(0,n.jsxs)(a.p,{children:["Por fim, dentro do ",(0,n.jsx)(a.strong,{children:"while True"}),", o nosso loop, faremos com que os sensores leiam continuamente e imprima os valores lidos do sensor de umidade do solo:"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'while True:\n    try:\n\n        print("humid (Digital value):", humid_digital.value)\n        print("humid (Analogic value):", humid_analog.value)\n\n        time.sleep(1);\n'})}),"\n",(0,n.jsx)(a.p,{children:'J\xe1 na condi\xe7\xe3o abaixo, caso o sensor receba um valor que indique que a terra est\xe1 seca, entramos no condicional if e conectamos o rel\xe9 no "sempre fechado",\ne \xe9 por isso que adicionar um Falso a "sempre fechado", signinifica aberto. Ent\xe3o a bomba \xe9 acionada realizando a irriga\xe7\xe3o:'}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'if humid_analog.value > dry_value :\n            print("Starting watering...")\n\n            relay.value = False\n\n            time.sleep(watering_time)\n            print("Finishing watering.")\n\n'})}),"\n",(0,n.jsx)(a.p,{children:"Se o n\xedvel estiver OK, apenas nos certificamos de que o rel\xe9 esteja fechado:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"        else:\n            relay.value = True\n            time.sleep(wait_time)\n\n"})}),"\n",(0,n.jsx)(a.p,{children:"E colocamos o sensor para dormir novamente:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"    time.sleep(1)\n"})}),"\n",(0,n.jsxs)(a.p,{children:["Tamb\xe9m \xe9 possivel encontrar o codigo em ",(0,n.jsx)(a.a,{href:"https://github.com/GiulianeEC/SystemOfIrrigation_Franzininho",children:"https://github.com/GiulianeEC/SystemOfIrrigation_Franzininho"})]}),"\n",(0,n.jsx)(a.h2,{id:"conclus\xe3o",children:(0,n.jsx)(a.strong,{children:"Conclus\xe3o"})}),"\n",(0,n.jsx)(a.p,{children:"No decorrer da explica\xe7\xe3o, aprendemos a como montar de maneira simples um prot\xf3tipo de irriga\xe7\xe3o automatizado."}),"\n",(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{children:"Autor"}),(0,n.jsx)(a.th,{children:"Giuliane Eul\xe1lia Corr\xeaa"})]})}),(0,n.jsx)(a.tbody,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:"Data:"}),(0,n.jsx)(a.td,{children:"28/01/2023"})]})})]})]})}function m(e={}){const{wrapper:a}={...(0,r.MN)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},95788:(e,a,i)=>{i.d(a,{MN:()=>d});var n=i(11504);function r(e,a,i){return a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}function o(e,a){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),i.push.apply(i,n)}return i}function t(e){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?o(Object(i),!0).forEach((function(a){r(e,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))}))}return e}function s(e,a){if(null==e)return{};var i,n,r=function(e,a){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],a.indexOf(i)>=0||(r[i]=e[i]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],a.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var l=n.createContext({}),d=function(e){var a=n.useContext(l),i=a;return e&&(i="function"==typeof e?e(a):t(t({},a),e)),i},c={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var i=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),u=d(i),p=r,h=u["".concat(l,".").concat(p)]||u[p]||c[p]||o;return i?n.createElement(h,t(t({ref:a},m),{},{components:i})):n.createElement(h,t({ref:a},m))}));m.displayName="MDXCreateElement"},11868:(e,a,i)=>{i.d(a,{c:()=>n});const n=i.p+"assets/images/prototipo_-b5947fa5c92bd19c5bf7a5f20d326652.jpg"}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{165:function(e,a,n){"use strict";n.d(a,"a",(function(){return p})),n.d(a,"b",(function(){return b}));var t=n(0),o=n.n(t);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function c(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=o.a.createContext({}),u=function(e){var a=o.a.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):l(l({},a),e)),n},p=function(e){var a=u(e.components);return o.a.createElement(s.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return o.a.createElement(o.a.Fragment,{},a)}},d=o.a.forwardRef((function(e,a){var n=e.components,t=e.mdxType,r=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=u(n),d=t,b=p["".concat(i,".").concat(d)]||p[d]||m[d]||r;return n?o.a.createElement(b,l(l({ref:a},s),{},{components:n})):o.a.createElement(b,l({ref:a},s))}));function b(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var c in a)hasOwnProperty.call(a,c)&&(l[c]=a[c]);l.originalType=e,l.mdxType="string"==typeof e?e:t,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},313:function(e,a,n){"use strict";n.r(a),a.default=n.p+"assets/images/prototipo_-b5947fa5c92bd19c5bf7a5f20d326652.jpg"},95:function(e,a,n){"use strict";n.r(a),n.d(a,"frontMatter",(function(){return l})),n.d(a,"metadata",(function(){return c})),n.d(a,"toc",(function(){return s})),n.d(a,"default",(function(){return p}));var t=n(3),o=n(7),r=(n(0),n(165)),i=["components"],l={id:"circuitpython-sistema-de-irriga\xe7\xe3o",title:"Sistema de irriga\xe7\xe3o autom\xe1tico",slug:"/franzininho-wifi/exemplos-circuitpython/irrigacao",description:"Confira nesse artigo como controlar um servo motor com a Franzininho WiFi no CircuitPython. Veja como \xe9 f\xe1cil!",author:"Giuliane Eul\xe1lia Corr\xeaa"},c={unversionedId:"FranzininhoWifi/exemplos-circuitpython/circuitpython-sistema-de-irriga\xe7\xe3o",id:"FranzininhoWifi/exemplos-circuitpython/circuitpython-sistema-de-irriga\xe7\xe3o",isDocsHomePage:!1,title:"Sistema de irriga\xe7\xe3o autom\xe1tico",description:"Confira nesse artigo como controlar um servo motor com a Franzininho WiFi no CircuitPython. Veja como \xe9 f\xe1cil!",source:"@site/docs/FranzininhoWifi/exemplos-circuitpython/irrigacao.md",slug:"/franzininho-wifi/exemplos-circuitpython/irrigacao",permalink:"/en/docs/franzininho-wifi/exemplos-circuitpython/irrigacao",editUrl:"https://github.com/Franzininho/docs-franzininho-site/edit/main/docs/FranzininhoWifi/exemplos-circuitpython/irrigacao.md",version:"current",sidebar:"docs",previous:{title:"Servo motor",permalink:"/en/docs/franzininho-wifi/exemplos-circuitpython/servo-motor"},next:{title:"Primeiros Passos",permalink:"/en/docs/franzininho-wifi/exemplos-arduino/primeiros-passos"}},s=[{value:"<strong>Materiais Usados</strong>",id:"materiais-usados",children:[]},{value:"<strong>Circuito Eletr\xf4nico</strong>",id:"circuito-eletr\xf4nico",children:[]},{value:"<strong>C\xf3digo-fonte</strong>",id:"c\xf3digo-fonte",children:[]},{value:"<strong>Entendendo o C\xf3digo-fonte</strong>",id:"entendendo-o-c\xf3digo-fonte",children:[]},{value:"<strong>Conclus\xe3o</strong>",id:"conclus\xe3o",children:[]}],u={toc:s};function p(e){var a=e.components,l=Object(o.a)(e,i);return Object(r.b)("wrapper",Object(t.a)({},u,l,{components:a,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Um sistema de irriga\xe7\xe3o autom\xe1tico \xe9 uma solu\xe7\xe3o para ajudar a manter de forma sistem\xe1tica a irriga\xe7\xe3o\nde suas plantas. "),Object(r.b)("p",null,"Esse sistema permite programar as regras de acordo com as necessidades das plantas. Isso garante uma economia\nde \xe1gua e tempo, para quem possui um jardim ou horta e para grandes sistemas de irriga\xe7\xe3o\nna agricultura."),Object(r.b)("p",null,"Agora vamos descrever um exemplo de um sistema de irriga\xe7\xe3o automatico poss\xedvel de construir de forma simples mas com grande\npoder de automa\xe7\xe3o."),Object(r.b)("h2",{id:"materiais-usados"},Object(r.b)("strong",{parentName:"h2"},"Materiais Usados")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"1 Placa Franzininho WiFi"),Object(r.b)("li",{parentName:"ul"},"1 Sensor de umidade do solo - Higr\xf4metro com saida digital e analogica"),Object(r.b)("li",{parentName:"ul"},"1 Protoboard de 830 pontos"),Object(r.b)("li",{parentName:"ul"},"1 Mini bomba de \xe1gua submersa 5v"),Object(r.b)("li",{parentName:"ul"},"1 Rel\xe9 5v"),Object(r.b)("li",{parentName:"ul"},"Cabos Jumpers - Macho/Macho e Macho/Femea")),Object(r.b)("h2",{id:"circuito-eletr\xf4nico"},Object(r.b)("strong",{parentName:"h2"},"Circuito Eletr\xf4nico")),Object(r.b)("p",null,"Para o exemplo que vamos ver a seguir, realize a seguinte montagem:"),Object(r.b)("p",null,Object(r.b)("img",{alt:"Circuito Servo Motor",src:n(313).default})),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Observa\xe7\xf5es:")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"O rel\xe9 \xe9 conectado a 5V da placa"),Object(r.b)("li",{parentName:"ul"},"Cabos azuis: sa\xeddas digitais"),Object(r.b)("li",{parentName:"ul"},"Cabos vermelhos: VCC"),Object(r.b)("li",{parentName:"ul"},"Cabos pretos: GND")),Object(r.b)("h2",{id:"c\xf3digo-fonte"},Object(r.b)("strong",{parentName:"h2"},"C\xf3digo-fonte")),Object(r.b)("p",null,"Para iniciar, \xe9 necess\xe1rio j\xe1 ter seguido o tutorial de ",Object(r.b)("strong",{parentName:"p"},"Primeiros passos"),", que tamb\xe9m se encontra na p\xe1gina da Franzininho em documenta\xe7\xe3o,\nter o CircuitPython instalado na placa e para esse projeto utilizamos o Mu editor. Para obter esse ambiente basta seguir os passos em ",Object(r.b)("strong",{parentName:"p"},"Instalando as ferramentas"),"."),Object(r.b)("p",null,"A partir daqui consideramos que os primeiros passos de instala\xe7\xe3o e do ambiente foram conclu\xeddos.\nAbaixo est\xe1 o c\xf3digo do sistema na placa usando CircuitPython, voc\xea pode copiar e colar o c\xf3digo fonte na sua IDE."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},'import board\nimport time\n\nfrom digitalio import DigitalInOut, Direction, Pull\nfrom analogio import AnalogIn  \n\nrelay = DigitalInOut(board.IO0)\nrelay.switch_to_output()\n\nhumid_analog = AnalogIn(board.IO1)       \nhumid_digital = DigitalInOut(board.IO4)   \nhumid_digital.direction = Direction.INPUT \n\nrelay.value = True\n\nwait_time = 1\nwatering_time = 1\n\ndry_value = 51130\n\nwhile True:\n    try:\n        print("humid (Digital value):", humid_digital.value)\n        print("humid (Analogic value):", humid_analog.value)\n\n        time.sleep(1);\n\n        if humid_analog.value > dry_value :\n            print("Starting watering...")\n\n            relay.value = False\n\n            time.sleep(watering_time)\n            print("Finishing watering.")\n\n        else:\n            relay.value = True\n            time.sleep(wait_time)\n\n    except RuntimeError as e:\n        print("Read failure")\n\n    time.sleep(1)\n')),Object(r.b)("p",null,"Ap\xf3s terminar de escrever, e analisar no ambiente de desenvolvimento. Basta salvar e apertar no serial para executar no mu-editor. Caso esteja utilizando outra IDE, basta execut\xe1-la no ambiente escolhido."),Object(r.b)("h2",{id:"entendendo-o-c\xf3digo-fonte"},Object(r.b)("strong",{parentName:"h2"},"Entendendo o C\xf3digo-fonte")),Object(r.b)("p",null,"O primeiro m\xf3dulo que vamos importar, \xe9 o board. Ele possibilita o acesso aos pinos da placa:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"import board\n")),Object(r.b)("p",null,"Este m\xf3dulo fornece v\xe1rias fun\xe7\xf5es relacionadas ao tempo:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"import time\n")),Object(r.b)("p",null,"O digitalio \xe9 um m\xf3dulo que cont\xe9m classes para fornecer acesso a IO digital b\xe1sico:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"from digitalio import DigitalInOut, Direction, Pull\n")),Object(r.b)("p",null,"Cria um objeto e conecta o objeto com uma entrada anal\xf3gica:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"from analogio import AnalogIn \n")),Object(r.b)("p",null,"Agora, vamos atribuir o rel\xe9:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"relay = DigitalInOut(board.IO0)\nrelay.switch_to_output()\n")),Object(r.b)("p",null,"Atribuimos as entradas anal\xf3gicas e digitais do sensor de umidade do solo na porta 1, sendo esta uma porta anal\xf3gica e na porta 4 a digital do franzinho. Configurando tamb\xe9m o pino como entrada digital:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"humid_analog = AnalogIn(board.IO1)        # analog\nhumid_digital = DigitalInOut(board.IO4)   # digital\nhumid_digital.direction = Direction.INPUT\n")),Object(r.b)("p",null,'O rel\xe9 foi configurado para usar a porta "sempre fechada",ent\xe3o precisamos defini-lo com o valor verdadeiro para que o rel\xe9 fique inativo:'),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"relay.value = True\n")),Object(r.b)("p",null,"Per\xedodo de tempo para verificar o sistema. O controle desse per\xedodo de tempo para manter a rega da planta depende da voltagem que alimenta a bomba:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"wait_time = 1\nwatering_time = 1\n")),Object(r.b)("p",null,"Adaptado de acordo com o sensor de umidade do solo, \xe9 necessario fazer laguns testes na sua terra para saber o valor da terra que vai ser utilizada:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"dry_value = 51130\n")),Object(r.b)("p",null,"Por fim, dentro do ",Object(r.b)("strong",{parentName:"p"},"while True"),", o nosso loop, faremos com que os sensores leiam continuamente e imprima os valores lidos do sensor de umidade do solo:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},'while True:\n    try:\n\n        print("humid (Digital value):", humid_digital.value)\n        print("humid (Analogic value):", humid_analog.value)\n\n        time.sleep(1);\n')),Object(r.b)("p",null,'J\xe1 na condi\xe7\xe3o abaixo, caso o sensor receba um valor que indique que a terra est\xe1 seca, entramos no condicional if e conectamos o rel\xe9 no "sempre fechado",\ne \xe9 por isso que adicionar um Falso a "sempre fechado", signinifica aberto. Ent\xe3o a bomba \xe9 acionada realizando a irriga\xe7\xe3o:'),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},'if humid_analog.value > dry_value :\n            print("Starting watering...")\n\n            relay.value = False\n\n            time.sleep(watering_time)\n            print("Finishing watering.")\n\n')),Object(r.b)("p",null,"Se o n\xedvel estiver OK, apenas nos certificamos de que o rel\xe9 esteja fechado:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"        else:\n            relay.value = True\n            time.sleep(wait_time)\n\n")),Object(r.b)("p",null,"E colocamos o sensor para dormir novamente:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"    time.sleep(1)\n")),Object(r.b)("p",null,"Tamb\xe9m \xe9 possivel encontrar o codigo em ",Object(r.b)("a",{parentName:"p",href:"https://github.com/GiulianeEC/SystemOfIrrigation_Franzininho"},"https://github.com/GiulianeEC/SystemOfIrrigation_Franzininho")),Object(r.b)("h2",{id:"conclus\xe3o"},Object(r.b)("strong",{parentName:"h2"},"Conclus\xe3o")),Object(r.b)("p",null,"No decorrer da explica\xe7\xe3o, aprendemos a como montar de maneira simples um prot\xf3tipo de irriga\xe7\xe3o automatizado."),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Autor"),Object(r.b)("th",{parentName:"tr",align:null},"Giuliane Eul\xe1lia Corr\xeaa"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"Data:"),Object(r.b)("td",{parentName:"tr",align:null},"28/01/2023")))))}p.isMDXComponent=!0}}]);
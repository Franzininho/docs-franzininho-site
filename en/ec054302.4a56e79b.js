(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{151:function(e,o,a){"use strict";a.r(o),a.d(o,"frontMatter",(function(){return c})),a.d(o,"metadata",(function(){return s})),a.d(o,"toc",(function(){return p})),a.d(o,"default",(function(){return l}));var t=a(3),n=a(7),r=(a(0),a(165)),i=["components"],c={id:"circuitpython-touch-capacitivo",title:"Pinos de Toque Capacitivo",slug:"/franzininho-wifi/exemplos-circuitpython/touch-capacitivo",description:"Neste exemplo, vamos fazer um \u201cinterruptor\u201d por aproxima\xe7\xe3o e, aprender como usar o m\xf3dulo respons\xe1vel pelos pinos de toque capacitivo. Ademais, veremos como ajustar a sensibilidade desse recurso.",author:"Mateus Adriano Ventura Vieira"},s={unversionedId:"FranzininhoWifi/exemplos-circuitpython/circuitpython-touch-capacitivo",id:"FranzininhoWifi/exemplos-circuitpython/circuitpython-touch-capacitivo",isDocsHomePage:!1,title:"Pinos de Toque Capacitivo",description:"Neste exemplo, vamos fazer um \u201cinterruptor\u201d por aproxima\xe7\xe3o e, aprender como usar o m\xf3dulo respons\xe1vel pelos pinos de toque capacitivo. Ademais, veremos como ajustar a sensibilidade desse recurso.",source:"@site/docs/FranzininhoWifi/exemplos-circuitpython/touch-capacitivo.md",slug:"/franzininho-wifi/exemplos-circuitpython/touch-capacitivo",permalink:"/en/docs/franzininho-wifi/exemplos-circuitpython/touch-capacitivo",editUrl:"https://github.com/Franzininho/docs-franzininho-site/edit/main/docs/FranzininhoWifi/exemplos-circuitpython/touch-capacitivo.md",version:"current",sidebar:"docs",previous:{title:"PWM - Pulse Width Modulation",permalink:"/en/docs/franzininho-wifi/exemplos-circuitpython/pwm"},next:{title:"Display OLED I2C",permalink:"/en/docs/franzininho-wifi/exemplos-circuitpython/display-oled-i2c"}},p=[{value:"<strong>Materiais necess\xe1rios</strong>",id:"materiais-necess\xe1rios",children:[]},{value:"<strong>Circuito</strong>",id:"circuito",children:[]},{value:"<strong>C\xf3digo</strong>",id:"c\xf3digo",children:[]},{value:"<strong>An\xe1lise do C\xf3digo</strong>",id:"an\xe1lise-do-c\xf3digo",children:[]},{value:"<strong>Como ajustar a sensibilidade do touch?</strong>",id:"como-ajustar-a-sensibilidade-do-touch",children:[]},{value:"<strong>Conclus\xe3o</strong>",id:"conclus\xe3o",children:[]}],u={toc:p};function l(e){var o=e.components,c=Object(n.a)(e,i);return Object(r.b)("wrapper",Object(t.a)({},u,c,{components:o,mdxType:"MDXLayout"}),Object(r.b)("p",null,"A capacit\xe2ncia pode ser definida, basicamente, como a capacidade de um corpo de armazenar energia el\xe9trica. Dessa maneira, os pinos de toque capacitivo detectam a mudan\xe7a na capacit\xe2ncia de um elemento. Esses pinos, podem ser utilizados por toque, e at\xe9 mesmo, pela aproxima\xe7\xe3o de um dedo."),Object(r.b)("p",null,"Neste exemplo, vamos fazer um \u201cinterruptor\u201d por aproxima\xe7\xe3o e, aprender como usar o m\xf3dulo respons\xe1vel pelos pinos de toque capacitivo. Ademais, veremos como ajustar a sensibilidade desse recurso."),Object(r.b)("h2",{id:"materiais-necess\xe1rios"},Object(r.b)("strong",{parentName:"h2"},"Materiais necess\xe1rios")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"1 Placa Franzininho WiFi com CircuitPython;"),Object(r.b)("li",{parentName:"ul"},"1 Protoboard;"),Object(r.b)("li",{parentName:"ul"},"1 LED;"),Object(r.b)("li",{parentName:"ul"},"1 resistor de 220 \u03a9 ou 330 \u03a9;"),Object(r.b)("li",{parentName:"ul"},"Jumpers.")),Object(r.b)("h2",{id:"circuito"},Object(r.b)("strong",{parentName:"h2"},"Circuito")),Object(r.b)("p",null,"Realize a seguinte montagem para este projeto. No lugar do \u201csensor\u201d de toque capacitivo, pode ser utilizado um jumper, um peda\xe7o de fio ou qualquer outro material."),Object(r.b)("p",null,Object(r.b)("img",{alt:"Circuito",src:a(426).default})),Object(r.b)("h2",{id:"c\xf3digo"},Object(r.b)("strong",{parentName:"h2"},"C\xf3digo")),Object(r.b)("p",null,"Implemente o c\xf3digo abaixo e teste seu circuito."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"#Toque Capacitivo\n\nimport board \nimport touchio\nfrom digitalio import DigitalInOut, Direction\nfrom time import sleep \n\nestado = 0\n\npin = board.IO1\ntouch = touchio.TouchIn(pin)\n\nled = DigitalInOut(board.IO4)\nled.direction = Direction.OUTPUT\n\nwhile True:\n    if touch.value:\n        estado = not estado\n    \n    led.value = estado\n    sleep(1)\n")),Object(r.b)("p",null,"Ap\xf3s finalizar a edi\xe7\xe3o do c\xf3digo, salve-o. Execute o programa. Ao aproximar, ou, encostar o dedo no \u201csensor\u201d escolhido por voc\xea, ele deve funcionar como um interruptor, ligando e desligando o LED."),Object(r.b)("h2",{id:"an\xe1lise-do-c\xf3digo"},Object(r.b)("strong",{parentName:"h2"},"An\xe1lise do C\xf3digo")),Object(r.b)("p",null,"Para acessarmos os pinos da placa devemos importar o m\xf3dulo ",Object(r.b)("strong",{parentName:"p"},"board"),":"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"import board\n")),Object(r.b)("p",null,"Al\xe9m disso, para o uso dos pinos de toque capacitivo, usaremos a biblioteca ",Object(r.b)("strong",{parentName:"p"},"touchio"),":"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"import touchio\n")),Object(r.b)("p",null,"E, para configurarmos o LED como uma sa\xedda digital, temos que importar as fun\xe7\xf5es ",Object(r.b)("strong",{parentName:"p"},"DigitalInOut")," e ",Object(r.b)("strong",{parentName:"p"},"Direction")," do m\xf3dulo ",Object(r.b)("strong",{parentName:"p"},"digitalio:")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"from digitalio import DigitalInOut,  Direction\n")),Object(r.b)("p",null,"Por \xfaltimo, vamos chamar a fun\xe7\xe3o ",Object(r.b)("strong",{parentName:"p"},"sleep")," do m\xf3dulo ",Object(r.b)("strong",{parentName:"p"},"time"),", que usaremos para intervalos de temporiza\xe7\xe3o:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"from time import sleep\n")),Object(r.b)("p",null,"Ap\xf3s importarmos as bibliotecas necess\xe1rias, criaremos uma vari\xe1vel ",Object(r.b)("strong",{parentName:"p"},"estado"),", que vai armazenar o estado do LED:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"estado  =  0\n")),Object(r.b)("p",null,"Agora, vamos configurar o GPIO1, como um pino ",Object(r.b)("strong",{parentName:"p"},"touch"),". Primeiro, iremos atribuir esse pino a uma vari\xe1vel, no caso, a vari\xe1vel ",Object(r.b)("strong",{parentName:"p"},"pin"),". Ap\xf3s isso, iremos criar o objeto ",Object(r.b)("strong",{parentName:"p"},"touch")," e atribuir o pin a esse objeto:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"pin  =  board.IO1\ntouch  =  touchio.TouchIn(pin)\n")),Object(r.b)("p",null,"Ademais, iremos atribuir o GPIO4 a var\xe1vel ",Object(r.b)("strong",{parentName:"p"},"led")," e, configur\xe1-lo como uma sa\xedda digital:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"led  =  DigitalInOut(board.IO4)\nled.direction  =  Direction.OUTPUT\n")),Object(r.b)("p",null,"Na sequ\xeancia, criaremos um la\xe7o infinito (",Object(r.b)("strong",{parentName:"p"},"while True"),"). Dentro do loop, verificamos se houve mudan\xe7a na capacit\xe2ncia do \u201csensor\u201d. Caso aconte\xe7a a mudan\xe7a, o estado do led tamb\xe9m mudar\xe1:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"while True:\n    if touch.value:\n        estado = not estado\n    \n    led.value = estado\n    sleep(1)\n")),Object(r.b)("h2",{id:"como-ajustar-a-sensibilidade-do-touch"},Object(r.b)("strong",{parentName:"h2"},"Como ajustar a sensibilidade do touch?")),Object(r.b)("p",null,"Nesse exemplo, estamos acionando o led apenas por aproximar o dedo. Por\xe9m, pode ser que voc\xea deseje ajustar o seu \u201csensor\u201d para acionar por toque. Para isso, vamos utilizar o comando ",Object(r.b)("strong",{parentName:"p"},"threshold"),"."),Object(r.b)("p",null,"Primeiro, vamos verificar a medi\xe7\xe3o do toque bruto. Para isso, utilizaremos a fun\xe7\xe3o ",Object(r.b)("strong",{parentName:"p"},"raw_value"),". Depois, ajustaremos a sensibilidade, para que ele seja acionado apenas por toque:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-python"},"pin = board.IO1\ntouch = touchio.TouchIn(pin)\nprint(touch.raw_value)\ntouch.threshold = 17300\n")),Object(r.b)("p",null,"Ap\xf3s adicionarmos a fun\xe7\xe3o ",Object(r.b)("strong",{parentName:"p"},"threshold"),", o led s\xf3 \xe9 acionado se tocarmos o \u201csensor\u201d. Isso acontece, pois, o configuramos com uma sensibilidade menor, ou seja, um valor m\xednimo de capacit\xe2ncia maior, para que a mudan\xe7a seja percebida pela placa."),Object(r.b)("h2",{id:"conclus\xe3o"},Object(r.b)("strong",{parentName:"h2"},"Conclus\xe3o")),Object(r.b)("p",null,"Aprendemos, atrav\xe9s de um exemplo pr\xe1tico, a como usar um pino toque capacitivo, que, em muitas situa\xe7\xf5es pode ser usado para substituir bot\xf5es e interruptores, por exemplo, apresentando-se como uma solu\xe7\xe3o mais simples, pois seu funcionamento n\xe3o \xe9 mec\xe2nico. Al\xe9m disso, pudemos ver como ajustar a sensibilidade desse sensor as nossas necessidades."),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"Autor"),Object(r.b)("th",{parentName:"tr",align:null},"Mateus Adriano Ventura Vieira"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"Data:"),Object(r.b)("td",{parentName:"tr",align:null},"06/05/2022")))))}l.isMDXComponent=!0},165:function(e,o,a){"use strict";a.d(o,"a",(function(){return l})),a.d(o,"b",(function(){return b}));var t=a(0),n=a.n(t);function r(e,o,a){return o in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a,e}function i(e,o){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.push.apply(a,t)}return a}function c(e){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?i(Object(a),!0).forEach((function(o){r(e,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(a,o))}))}return e}function s(e,o){if(null==e)return{};var a,t,n=function(e,o){if(null==e)return{};var a,t,n={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],o.indexOf(a)>=0||(n[a]=e[a]);return n}(e,o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],o.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=n.a.createContext({}),u=function(e){var o=n.a.useContext(p),a=o;return e&&(a="function"==typeof e?e(o):c(c({},o),e)),a},l=function(e){var o=u(e.components);return n.a.createElement(p.Provider,{value:o},e.children)},m={inlineCode:"code",wrapper:function(e){var o=e.children;return n.a.createElement(n.a.Fragment,{},o)}},d=n.a.forwardRef((function(e,o){var a=e.components,t=e.mdxType,r=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),l=u(a),d=t,b=l["".concat(i,".").concat(d)]||l[d]||m[d]||r;return a?n.a.createElement(b,c(c({ref:o},p),{},{components:a})):n.a.createElement(b,c({ref:o},p))}));function b(e,o){var a=arguments,t=o&&o.mdxType;if("string"==typeof e||t){var r=a.length,i=new Array(r);i[0]=d;var c={};for(var s in o)hasOwnProperty.call(o,s)&&(c[s]=o[s]);c.originalType=e,c.mdxType="string"==typeof e?e:t,i[1]=c;for(var p=2;p<r;p++)i[p]=a[p];return n.a.createElement.apply(null,i)}return n.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},426:function(e,o,a){"use strict";a.r(o),o.default=a.p+"assets/images/circuito-toque-capacitivo-baa986e339db82a3e64763d11f03a158.webp"}}]);
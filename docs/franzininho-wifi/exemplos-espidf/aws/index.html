<!doctype html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Franzininho Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Franzininho Blog Atom Feed"><title data-react-helmet="true">Primeiros passos com a AWS | Franzininho</title><meta data-react-helmet="true" property="og:image" content="https://franzininho.github.io/img/logo.svg"><meta data-react-helmet="true" name="twitter:image" content="https://franzininho.github.io/img/logo.svg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Franzininho"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="pt-BR"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:image:width" content="1200"><meta data-react-helmet="true" property="og:image:height" content="630"><meta data-react-helmet="true" property="og:title" content="Primeiros passos com a AWS | Franzininho"><meta data-react-helmet="true" name="description" content="Primeiros passos para conectar a Franzininho WiFi na AWS via MQTT pelo AWS IoT Core."><meta data-react-helmet="true" property="og:description" content="Primeiros passos para conectar a Franzininho WiFi na AWS via MQTT pelo AWS IoT Core."><meta data-react-helmet="true" property="og:url" content="https://franzininho.github.io/docs/franzininho-wifi/exemplos-espidf/aws"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://franzininho.github.io/docs/franzininho-wifi/exemplos-espidf/aws"><link rel="stylesheet" href="/styles.6fb0f07b.css">
<link rel="preload" href="/styles.271c170f.js" as="script">
<link rel="preload" href="/runtime~main.b55c2e29.js" as="script">
<link rel="preload" href="/main.e55e3c3d.js" as="script">
<link rel="preload" href="/1.e44ddd80.js" as="script">
<link rel="preload" href="/103.92fd5294.js" as="script">
<link rel="preload" href="/104.0c071a07.js" as="script">
<link rel="preload" href="/935f2afb.2da8228c.js" as="script">
<link rel="preload" href="/102.d7c201d0.js" as="script">
<link rel="preload" href="/af2b9553.b74a2525.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="https://franzininho.com.br/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/img/logo.svg" alt="Logo do site" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="Logo do site" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Franzininho</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentação</a></div><div class="navbar__items navbar__items--right"><a href="https://franzininho.com.br/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Site</a><a href="https://franzininho.com.br/blog/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://franzininho.com.br/#contato" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contato</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">Português (Brasil)</a><ul class="dropdown__menu"><li><a href="/docs/franzininho-wifi/exemplos-espidf/aws" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">Português (Brasil)</a></li><li><a href="/en/docs/franzininho-wifi/exemplos-espidf/aws" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://franzininho.com.br/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/img/logo.svg" alt="Logo do site" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="Logo do site" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Franzininho</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs">Documentação</a></li><li class="menu__list-item"><a href="https://franzininho.com.br/" target="_blank" rel="noopener noreferrer" class="menu__link">Site</a></li><li class="menu__list-item"><a href="https://franzininho.com.br/blog/" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://franzininho.com.br/#contato" target="_blank" rel="noopener noreferrer" class="menu__link">Contato</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Languages</a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/franzininho-wifi/exemplos-espidf/aws" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active">Português (Brasil)</a></li><li class="menu__list-item"><a href="/en/docs/franzininho-wifi/exemplos-espidf/aws" target="_self" rel="noopener noreferrer" class="menu__link">English</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Comece aqui</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Seja bem vindo!</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Franzininho WiFi</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/franzininho-wifi/franzininho-wifi">Placa Franzininho WiFi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/franzininho-wifi/franzininho-wifi-dev-edition">Placa Franzininho WiFi dev Edition</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Wokwi</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/wokwi/primeiros-passos">Como simular a Franzininho WiFi no Wokwi</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">ESP-IDF</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/franzininho-wifi/exemplos-espidf/primeiros-passos">Primeiros Passos com ESP-IDF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/franzininho-wifi/exemplos-espidf/hello-world-esp-idf">Hello World! ESP-IDF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/franzininho-wifi/exemplos-espidf/entrada-digital">Entrada digital</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/franzininho-wifi/exemplos-espidf/entrada-analogica">Entrada Analógica</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/franzininho-wifi/exemplos-espidf/ledc">PWM com LEDC</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/franzininho-wifi/exemplos-espidf/aws">Primeiros passos com a AWS</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">CircuitPython</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/primeiros-passos">Primeiros Passos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/ferramentas">Instalando as ferramentas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/hello-world">Hello World!</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/serial-console">Serial Console</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/entradas-saidas-digitais">Entradas e Saídas Digitais</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/entradas-analogicas">Entrada Analógica</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/pwm">PWM - Pulse Width Modulation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/touch-capacitivo">Pinos de Toque Capacitivo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/display-oled-i2c">Display OLED I2C</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/dht11">Sensor de temperatura e umidade DHT11</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/sensor-hcsr04">Sensor de Distância Ultrassônico HC-SR04</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/servo-motor">Servo motor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-circuitpython/irrigacao">Sistema de irrigação automático</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Arduino</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-arduino/primeiros-passos">Primeiros Passos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-arduino/blink">Blink</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-arduino/neopixel-onboard">Neopixel RGB LED Onboard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi/exemplos-arduino/dht11">Leitura DHT11</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Franzininho WiFi Lab01</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-wifi-lab01">Franzininho WiFi LAB01</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Franzininho C0(STM32C0)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-c0/franzininho-c0-board">Placa Franzininho C0</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">STM32CubeIDE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-c0/franzininho-c0-stm32cubeide-todolist">STM32Cube IDE TODO List</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-c0/config-franzininho-c0-stm32cubeide">Configurando os exemplos da Franzininho C0 no STM2CubeIDE em 7 passos</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Arduino</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-c0/franzininho-c0-arduino-todolist">STM32Cube IDE TODO List</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Franzininho DIY</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/sobre">Placa Franzininho DIY</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Montagem</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/lista-de-materiais">Lista de Materiais</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/identificando-componentes">Identificando os componentes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/montagem">Montagem da Franzininho DIY</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Bootloader</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/bootloader">Bootloader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/drivers-micronucleus">Instalação de drivers e configuração da USB</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Exemplos Arduino</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/pacote">Configuração da Arduino IDE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/entradas-saidas-digitais">Entradas e Saídas Digitais</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/entradas-analogicas">Entradas Analógicas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/saidas-pwm">Saídas PWM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/pisca-led">Pisca LED</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/brilho-led">Controle brilho de LED</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/leitura-tecla">Leitura de Tecla</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/tecla-liga-desliga">Tecla Liga/Desliga</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/led-rgb">LED RGB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/elefante-colorido">Elefante Colorido! Que cor?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/sensor-luz-ldr">Sensor de luz com LDR</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/semaforo">Semáforo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/theremim">Theremim</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/girassol-automatizado">Girassol Automatizado</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Exemplos AVR Libc</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/exemplos-avr-libc/primeiros-passos">Primeiros Passos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/exemplos-avr-libc/hello-world">Hello, World!</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/exemplos-avr-libc/saida-digital">Saída Digital</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/exemplos-avr-libc/entrada-digital">Entrada Digital</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/exemplos-avr-libc/timer0">Timer 0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/exemplos-avr-libc/timer0-int">Timer 0 - Interrupção</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/exemplos-avr-libc/contadores">Contador de pulsos externos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/exemplos-avr-libc/buzzer">Instrumento musical com Buzzer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/exemplos-avr-libc/int-ext">Interrupção externa</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/exemplos-avr-libc/todo">TODO</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Simulador Wokwi</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/wokwi/primeiros-passos">Como simular a Franzininho DIY no Wokwi</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Simulador PICSimLab</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-diy/picsimlab/primeiros-passos">Franzininho DIY no PICSimLab</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">FranzMakey</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/FranzMakey/franzmakey">Placa FranzMakey</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/FranzMakey/primeiros-passos">Primeiros Passos</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Franzininho Tiny</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/franzininho-tiny/franzininho-tiny">Placa Franzininho Tiny</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Franzino</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Franzino/franzino">Placa Franzino</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Franzino/upload-conversor-serial">Upload via conversor USB/SERIAL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Franzino/upload-com-arduino-uno">Gravando a Franzino com um placa Arduino UNO</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">FranzBoy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/FranzBoy/franzboy">Placa FranzBoy</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Badges</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/badge/badge">Badge - Aprenda a soldar</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Laboratório de Sistemas Embarcados e IoT</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/LaboratorioSistemasIot/LaboratorioSistemasIot">Placa Laboratório de Sistemas Embarcados e IoT</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Adaptadores</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/LaboratorioSistemasIot/adaptadores/arduino-uno">Adaptador Arduino Uno</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Bibliotecas</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/LaboratorioSistemasIot/bibliotecas/biblioteca-laboratorioFW">laboratorioFW</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/LaboratorioSistemasIot/bibliotecas/biblioteca-laboratorioFW_ARDUNO">laboratorioFW_ARDUNO</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Primeiros passos com a AWS</h1></header><div class="markdown"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="introdução"></a>Introdução<a class="hash-link" href="#introdução" title="Direct link to heading">#</a></h3><p>Neste tutorial exploraremos a utilização do AWS IoT Core para conectar a placa Franzininho WiFi à nuvem utilizando o ESP-IDF. Além do IoT Core, a AWS oferece várias outras formas de conectar um dispositivo, como AWS IoT Greengrass Stream Manager ou AWS IoT SiteWise. Esses outros serviços para ingestão e visualização de dados podem ser vistos nesse <a href="https://aws.amazon.com/pt/blogs/iot/7-patterns-for-iot-data-ingestion-and-visualization-how-to-decide-what-works-best-for-your-use-case/" target="_blank" rel="noopener noreferrer">link</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="aws-iot-core"></a>AWS IOT Core<a class="hash-link" href="#aws-iot-core" title="Direct link to heading">#</a></h3><p>O AWS IoT Core é o broker de mensagens que permite conectar dispositivos IoT com a nuvem AWS e seus diversos serviços. Através dele, podemos criar, configurar e gerenciar nossos dispositivos.</p><p>Atualmente suporta os seguintes protocolos de comunicação:</p><ul><li>MQTT</li><li>MQTT over WSS (Websockets Secure)</li><li>HTTPS</li><li>LoRaWAN</li></ul><p>Resumidamente, o serviço se baseia em:</p><ul><li><strong>Things:</strong> Dispositivos (“coisas”) que queremos conectar;</li><li><strong>Jobs:</strong> Ações remotas que você pode agendar para realizar operações nos seus dispositivos, como atualizações de firmware;</li><li><strong>Rules:</strong> Regras através das quais podemos direcionar as mensagens recebidas pelo broker para outros serviços da AWS, por exemplo, para armazenar dados no DynamoDB.</li><li><strong>Segurança:</strong> onde é possível gerenciar os certificados de autorização, políticas (policies) e papeis (roles) de autenticação.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="parte-1---criando-a-franzininho-na-aws"></a>Parte 1 - Criando a Franzininho na AWS<a class="hash-link" href="#parte-1---criando-a-franzininho-na-aws" title="Direct link to heading">#</a></h3><p>Para seguir o tutorial, você deve ter acesso ao console da AWS. Para começar, vamos criar uma nova “coisa” (thing) para representar nossa Franzininho na nuvem. Certifique-se que você está na região mais próxima antes de começar, selecionando-a no menu do canto superior direito. Para o Brasil, a região é sa-east-1.</p><ol><li><p>Na AWS, procure pelo serviço IoT Core (<code>Service &gt; Internet of Things &gt;  IoT core</code>) e crie uma nova “coisa” em <code>Manage &gt; All devices &gt; Things &gt; Create new thing</code>.</p></li><li><p>Vamos criar apenas um dispositivo (<em>Create a single thing</em>), mas saiba que também é possível criar vários de uma vez (<em>Create many things</em>). Você precisará especificar as propriedades desse dispositivo:</p></li></ol><ul><li>Thing name: o nome do seu dispositivo para identificá-lo de forma única. Escolha sabiamente, pois essa propriedade não pode ser alterada depois que o dispositivo é criado.</li><li>Configurações adicionais: podem ser utilizadas para detalhar, organizar, gerenciar e pesquisar os dispositivos, como tipo, atributos ou grupos.</li><li>Device shadow permite que o estado do seu dispositivo fique disponível para outros serviços mesmo que ele não esteja conectado.</li></ul><p>Por enquanto, basta preencher o nome e prosseguir. Chamarei o meu carinhosamente de Franz.</p><p><img alt="Criar thing" src="/assets/images/1-Create-thing-38ca8a9bbe949f6fd7bb29c1746f3175.png"></p><ol start="3"><li><p>Para conseguir se autenticar ao serivço da AWS, cada dispositivo deve ter um certificado. Utilizaremos o gerado automaticamente (<em>Auto-generate a new certificate</em>), mas você também tem a opção de utilizar certificados próprios.</p></li><li><p>Para gerenciar o nível de acesso desse certificado aos recursos, é preciso criar uma política de autorização (<em>policy</em>), que é uma lista de ações permitidas ou proibidas para aquele certificado. Você pode criar uma política direto dessa aba, em <em>Create policy</em>, ou pela barra de navegação do IoT Core em <em>Security &gt; Policies</em>.</p></li></ol><p>Uma <em>policy</em> deve ter um nome e uma ou mais declarações (<em>statements</em>). Cada declaração é composta por um <strong>efeito</strong> de uma <strong>ação</strong> à um <strong>recurso</strong>.</p><p>O <strong>efeito</strong> pode ser de permissão (<em>allow</em>) ou proibição (<em>deny</em>).</p><p>As possíveis <strong>ações</strong> desse serviço são várias, mas utilizaremos as seguintes principais:</p><ul><li><em>iot:Connect:</em> permite a conexão do dispositivo ao serviço;</li><li><em>iot:Publish:</em> permite que o dispositivo publique mensagens no broker;</li><li><em>iot:Receive:</em> permite que o dispositivo receba mensagem do broker;</li><li><em>iot:Subscribe:</em> permite que o dispositivo se inscreva nos tópicos do broker.</li></ul><p>E o <strong>recurso</strong> é o nome do serviço da AWS que a ação vai se utilizar, neste caso <em>arn:aws:iot:<strong>region</strong>:<strong>account-id</strong></em>.</p><p>Você pode adicionar policies já existentes utilizando a aba <em>Policy Examples</em> ou criá-las manualmente. Para este exemplo, utilizei as seguintes políticas:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Version&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2012-10-17&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Statement&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Effect&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Allow&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Action&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;iot:Connect&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Resource&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arn:aws:iot:sa-east-1:&lt;account-id&gt;:client/</span><span class="token string variable" style="color:rgb(191, 199, 213)">${iot</span><span class="token string variable operator" style="color:rgb(137, 221, 255)">:</span><span class="token string variable" style="color:rgb(191, 199, 213)">Connection.Thing.ThingName}</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Effect&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Allow&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Action&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;iot:Publish&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Resource&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arn:aws:iot:sa-east-1:&lt;account-id&gt;:client/</span><span class="token string variable" style="color:rgb(191, 199, 213)">${iot</span><span class="token string variable operator" style="color:rgb(137, 221, 255)">:</span><span class="token string variable" style="color:rgb(191, 199, 213)">Connection.Thing.ThingName}</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Effect&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Allow&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Action&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;iot:Subscribe&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Resource&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arn:aws:iot:sa-east-1:&lt;account-id&gt;:topicfilter/</span><span class="token string variable" style="color:rgb(191, 199, 213)">${iot</span><span class="token string variable operator" style="color:rgb(137, 221, 255)">:</span><span class="token string variable" style="color:rgb(191, 199, 213)">Connection.Thing.ThingName}</span><span class="token string" style="color:rgb(195, 232, 141)">/*&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Effect&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Allow&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Action&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;iot:Publish&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Resource&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arn:aws:iot:sa-east-1:&lt;account-id&gt;:topic/</span><span class="token string variable" style="color:rgb(191, 199, 213)">${iot</span><span class="token string variable operator" style="color:rgb(137, 221, 255)">:</span><span class="token string variable" style="color:rgb(191, 199, 213)">Connection.Thing.ThingName}</span><span class="token string" style="color:rgb(195, 232, 141)">/*&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Effect&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Allow&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Action&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;iot:Receive&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Resource&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arn:aws:iot:sa-east-1:&lt;account-id&gt;:topic/</span><span class="token string variable" style="color:rgb(191, 199, 213)">${iot</span><span class="token string variable operator" style="color:rgb(137, 221, 255)">:</span><span class="token string variable" style="color:rgb(191, 199, 213)">Connection.Thing.ThingName}</span><span class="token string" style="color:rgb(195, 232, 141)">/*&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Altere o <code>&lt;account-id&gt;</code> para o número da sua conta, disponível no menu do canto superior direito.</p><p><img alt="Account ID" src="/assets/images/2-Account-id-4ac0bcea28543803571a6f1211af4495.png"></p><ol start="5"><li>Por fim, baixe os arquivos de certificados e chaves que a AWS criou automaticamente para autenticar esse dispositivo. Este é o único momento que você conseguirá baixar as chaves para esse certificado, então guarde-as com carinho para utilizá-los no próximo passo.</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="parte-2---conectando-a-franzininho-com-esp-idf"></a>Parte 2 - Conectando a Franzininho com ESP-IDF<a class="hash-link" href="#parte-2---conectando-a-franzininho-com-esp-idf" title="Direct link to heading">#</a></h3><p>Agora que temos nosso dispositivo configurado, precisamos escrever o firmware para conectá-lo. A própria Espressif disponibiliza um SDK para comunicação com AWS IoT baseada no FreeRTOS. Para utilizar, basta clonar o repositório, preferencialmente direto na pasta de componentes do seu diretório de instalação.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/espressif/esp-aws-iot </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">esp-dir-path</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/esp-idf/components</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Dentro desse componente, já são disponibilizados alguns exemplos para utilizar com a AWS. Vamos começar utilizando o exemplo básico de MQTT em <code>examples/mqtt/tls_mutual_auth</code>.</p><p>Para configurar, utilizaremos o <em>menuconfig</em>:</p><ol><li>Nas configurações do exemplo (<em>Example Configuration</em>), insira o nome do dispositivo exatamente como foi criado na AWS (Franz, no meu caso) e o endpoint do broker MQTT, que está disponível no menu <code>AWS IoT &gt; Settings &gt; Device endpoint</code> na sua conta do AWS. As demais configurações podem ser deixadas como padrão.</li></ol><p><img alt="Device Endpoint" src="/assets/images/3.1-Device-endpoint-7109151e8d06555b5a4e706dc26d9d2f.png">
<img alt="Menuconfig" src="/assets/images/3.2-Menuconfig-49a52cb36a4edc9b1e00093697627052.png"></p><ol start="2"><li><p>Nas configurações de rede (<em>Example Connection Configuration</em>), insira as configurações da sua rede Wi-Fi (SSID e senha)</p></li><li><p>O método padrão de autenticação com a AWS é utilizando credenciais PKI embarcadas no diretório certs/. Lembra dos certificados que foram gerados automaticamente ao criar um dispositivo? É aqui que você vai colocá-los para embarcar no dispositivo. Copie o certificado, a chave <strong>privada</strong> e um dos certificados de root que você tinha armazenado anteriormente.</p></li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> certificate.pem.crt main/certs/client.crt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> private.pem.key main/certs/client.key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> AmazonRootCAx.pem main/certs/root_cert_auth.pem</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Com tudo configurado, é só buildar e passar pra placa (siga o tutorial em <a href="https://docs.franzininho.com.br/docs/franzininho-wifi/exemplos-espidf/primeiros-passos" target="_blank" rel="noopener noreferrer">Primeiros passos</a>). Este exemplo se conecta ao broker MQTT, se sobrescreve no tópico <code>CLIENT_IDENTIFIER &quot;/example/topic”</code> (Franz/example/topic, por exemplo) e publica mensagens de Hello World.</p><p>Sua conexão foi estabelecida com sucesso caso receba a mensagem a seguir:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">I </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">7329</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> coreMQTT: Connection accepted.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">7339</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> coreMQTT: Received MQTT CONNACK successfully from broker.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">7349</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> coreMQTT: MQTT connection established with the broker.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">7349</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> coreMQTT: MQTT connection successfully established with broker.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="parte-3---monitorando-a-franzininho"></a>Parte 3 - Monitorando a Franzininho<a class="hash-link" href="#parte-3---monitorando-a-franzininho" title="Direct link to heading">#</a></h3><p>Agora que a Franzininho está conectado, podemos monitorar sua atividade pelo console da AWS.</p><ul><li>Você pode ver as mensagens mais recentes em <code>Manage &gt; Things &gt; Nome do seu dispositivo &gt; Activity</code>.</li></ul><p><img alt="Menu Activity" src="/assets/images/4-MenuActivity-37174ab453b4c48389ee792525762a0f.png"></p><ul><li>E você também pode interagir através do MQTT Test Client, por exemplo, publicando no tópico <code>CLIENT_IDENTIFIER &quot;/example/topic”</code> que estamos inscritos.</li></ul><p><img alt="MQTT Test Client" src="/assets/images/5-MQTTTestClient-921841744c6883b3a1f1f80db1081d19.png"></p><p>A mensagem recebida pode ser vista na Franzininho:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">I </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">17668</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> coreMQTT: Packet received. </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ReceivedBytes</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">66</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">17668</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> coreMQTT: De-serialized incoming PUBLISH packet: </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DeserializerResult</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">MQTTSuccess.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">17668</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> coreMQTT: State record updated. New </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">state</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">MQTTPublishDone.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">17678</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> coreMQTT: Incoming QOS </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">17678</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> coreMQTT: Incoming Publish Topic Name: Franz/example/topic matches subscribed topic.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Incoming Publish message Packet Id is </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Incoming Publish Message </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;message&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello from AWS IoT console&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>E é isso, agora você pode brincar de Internet das Coisas com sua Franzininho WiFi utilizando a AWS!</p><table><thead><tr><th>Autora</th><th><a href="https://github.com/carolcabral" target="_blank" rel="noopener noreferrer">Ana Carolina Cabral </a></th></tr></thead><tbody><tr><td>Data:</td><td>07/01/2023</td></tr></tbody></table></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Franzininho/docs-franzininho-site/edit/main/docs/FranzininhoWifi/exemplos-espidf/0x05-AWS-IoT-Core.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/franzininho-wifi/exemplos-espidf/ledc"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« PWM com LEDC</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/franzininho-wifi/exemplos-circuitpython/primeiros-passos"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Primeiros Passos »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introdução" class="table-of-contents__link">Introdução</a></li><li><a href="#aws-iot-core" class="table-of-contents__link">AWS IOT Core</a></li><li><a href="#parte-1---criando-a-franzininho-na-aws" class="table-of-contents__link">Parte 1 - Criando a Franzininho na AWS</a></li><li><a href="#parte-2---conectando-a-franzininho-com-esp-idf" class="table-of-contents__link">Parte 2 - Conectando a Franzininho com ESP-IDF</a></li><li><a href="#parte-3---monitorando-a-franzininho" class="table-of-contents__link">Parte 3 - Monitorando a Franzininho</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Documentação</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/franzininho-diy/sobre">Franzininho DIY</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/franzininho-wifi/franzininho-wifi">Franzininho WiFi</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Comunidade</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/H5kENmWGaz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://www.facebook.com/groups/299236843857849/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grupo no Facebook</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Redes Sociais</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.instagram.com/franzininho/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram</a></li><li class="footer__item"><a href="https://facebook.com/franzininho/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCxyabOm4teS0kx0EgJW78_g" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Mais</h4><ul class="footer__items"><li class="footer__item"><a href="https://franzininho.com.br/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Site</a></li><li class="footer__item"><a href="https://github.com/franzininho" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="mailto:contato@franzininho.com.br" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contato</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Franzininho. Construído com Docusaurus.</div></div></div></footer></div>
<script src="/styles.271c170f.js"></script>
<script src="/runtime~main.b55c2e29.js"></script>
<script src="/main.e55e3c3d.js"></script>
<script src="/1.e44ddd80.js"></script>
<script src="/103.92fd5294.js"></script>
<script src="/104.0c071a07.js"></script>
<script src="/935f2afb.2da8228c.js"></script>
<script src="/102.d7c201d0.js"></script>
<script src="/af2b9553.b74a2525.js"></script>
</body>
</html>